<?php
$helper = Mage::helper('edform');
$mageAction = Mage::app()->getRequest()->getActionName();
if (Mage::app()->getStore()->isAdmin() || 'view' == $mageAction) {
	$isAdminArea = true;
	$mageAction = 'preview';
	Mage::getDesign()->setArea('frontend');
	$orderId = Mage::app()->getRequest()->getParam('order_id');
	$formData = Mage::getModel('edform/edformorders')->load($orderId);
	$userId = $formData->getData('user_id');
	$caUser = $helper->getCaUserById($userId);
	$orderParams = $formData->getData('order_params');
	$orderParams = json_decode($orderParams, true);
	$formData = new Varien_Object();
	$formData->setData($orderParams);
} else {
	$isAdminArea = false;
	$formData = $this;
	$orderId = Mage::app()->getRequest()->getParam('order_id');
	if (is_numeric($orderId)) {
		$progressData = $helper->getUserOrderData($orderId);
	} else {
		$preservePost = Mage::getSingleton('core/session')->getEdformOrderPost();
		$progressData = $helper->getProgressData();
	}
	if (is_array($progressData) && count($progressData)) {
		$preservePost = new Varien_Object();
		$preservePost->setData($progressData);
	}
	if (!empty($preservePost)) {
		//print_r($preservePost); exit;
		$formData = $preservePost;
	} else {
		$loggedInUsr = $helper->getLoggedInCa();
		$userPreset = array(
			//'clientName'    => $loggedInUsr['account_name'],
			//'monogramName'  => $loggedInUsr['ship_sew_client_monogram_label'],
			'monogramName' => '',
			'commName' => $loggedInUsr['account_name'],
			'repName' => $loggedInUsr['contact_firstname'] . ' ' . $loggedInUsr['contact_lastname'],
			'repEmail' => $loggedInUsr['email'],
			'repPhone' => $loggedInUsr['phone'],
			'accountType' => $loggedInUsr['account_type'],
			'account_type' => $loggedInUsr['account_type'],
		);
		$obj = new Varien_Object();
		$obj->setData($userPreset);
		$formData = $obj;
	}
}


// taxjar test
if (false) {
	$address = array();
	/*
	$address['country_id']  = 'US';
	$address['region_id']   = 'Delaware';
	$address['state']       = 'Delaware';
	$address['zip']         = '19801';
	$address['city']        = 'Wilmo';
	 */
	$address['country_id'] = 'US';
	$address['region_id'] = 'New York';
	$address['state'] = 'New York';
	$address['zip'] = '10003-1502';
	$address['city'] = 'New York';
	echo getTaxjar($address);
	exit;
}
?>


<script>
    jQuery.noConflict();
</script>

<?php
$formId = 'edOrderForm';
if ('preview' == $mageAction && !$isAdminArea) {
	$formId = '';
}

if ($isAdminArea || 'preview' == $mageAction) {
	?>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

	<?php

}

?>
<form name="<?php echo $formId; ?>" id="<?php echo $formId; ?>" mageAction="<?php echo $mageAction; ?>" method="post" action="<?php echo $this->getPostActionUrl(); ?>">
    <div class="topLinks">
		<a href="<?php echo $helper->getListPastOrderUrl(); ?>">Orders</a> | 
		<?php
	if ($helper->isUserCaAdmin()) {
		?>
            <a href="<?php echo $helper->getCreateSubAccountUrl(); ?>">Create Sub-Account</a> |
			<?php

	}
	?>
		<a href="<?php echo $helper->getMyAccountUrl(); ?>">My Account</a> |
		<a href="<?php echo $helper->getContactUrl(); ?>">Contact Us</a> | 
        <a href="<?php echo $this->getLogoutUrl(); ?>">Logout</a>
    </div>
	<?php if ('preview' != $mageAction) { ?>
	<div class="grid12-12 px-2">
		<div class="grid12-2 grid12-xs-12">
			<nav id="sidebar">
				<div class="sidebar-header">
					<h3></h3>
					<strong></strong>
				</div>

				<ul class="list-unstyled components">
					<li class="active">
						<a href="#ordersSubmenu">
							<i class="fas fa-home"></i>
							Orders
						</a>
						<ul class="expand list-unstyled" id="ordersSubmenu">
							<li>
								<a href="<?php echo $helper->getOrderUrl(); ?>">Create/Edit Order</a>
							</li>
							<li>
								<a href="<?php echo $helper->getListDraftsUrl(); ?>">Order Drafts</a>
							</li>
							<li>
								<a href="<?php echo $helper->getListPastOrderUrl(); ?>">Order History</a>
							</li>
						</ul>
					</li>
					<li class="">
						<a href="#myaccountSubmenu">
							<i class="fas fa-home"></i>
							My Account
						</a>
						<ul class="expand list-unstyled" id="myaccountSubmenu">
							<li>
								<a href="<?php echo $helper->getEditProfileUrl(); ?>">Edit Profile</a>
							</li>
							<?php
						if ($helper->isUserCaAdmin()) {
							?>
							<li>
								<a href="<?php echo $helper->getListSubCaUrl(); ?>">Sub-Accounts</a>
							</li>
                            <?php

																										}
																										?>
						</ul>
					</li>
					<li class="">
						<a href="<?php echo $helper->getContactUrl(); ?>">
							<i class="fas fa-home"></i>
							Contact Us
						</a>
					</li>
					<li class="">
						<a href="<?php echo $helper->getLogoutUrl(); ?>">
							<i class="fas fa-home"></i>
							Logout
						</a>
					</li>
				</ul>
			</nav>	
		
		</div> <!-- sidebard nav -->
		<div class="grid12-10 grid12-xs-12">
	<?php 
} ?>
			<div class="main-container">
				<section class="client-info">
					<div class="container">
						<div class="row">
							<div class="grid-full element-container">
								<div class="grid12-12 mb-2 edform-log">
									<?php
								$user = $helper->getLoggedInCa();
								$isCaAdmin = $helper->isUserCaAdmin();
								if (!$isCaAdmin) {
									$parentId = $user['parent_id'];
									$model = Mage::getModel('edform/edformusers');
									$pUser = $model->load($parentId);
									$pUser = $pUser->getData();
									foreach ($user as $key => $value) {
										if (empty($value) && !empty($pUser[$key])) {
											$user[$key] = $pUser[$key];
										}
									}
								}

								if (!empty($user['logo'])) {
									$logoSrc = $helper->getLogoUrlByFilename($user['logo']);
								}
								if (empty($logoSrc)) {
									$logoSrc = $this->getSkinUrl('edform/imgs/ED_logo-H-Trans-Bkgd-web-cropped.png');
								}

								$edLogo = $this->getSkinUrl('edform/imgs/ED_logo-H-Trans-Bkgd-web-cropped.png');
								$logoType = $user['logo_type'];

								if ('White Label' == $logoType) {
								} else {
									if ('Show CA Logo' == $logoType) {
										?>
											<img src="<?php echo $logoSrc; ?>" style="max-height: 100px;">
											<?php

									} else if ('Show Both Logo' == $logoType) {
										if ($edLogo == $logoSrc) {
											?>
												<img src="<?php echo $logoSrc; ?>" style="max-height: 100px; float: left;">
												<?php

										} else {
											?>
												<img src="<?php echo $logoSrc; ?>" style="max-height: 100px; float: left;"><img
														src="<?php echo $edLogo; ?>" style="max-height: 100px; float: right;">
												<?php

										}
									} else if ('Show eD Logo' == $logoType || true) { // default
										?>
											<img src="<?php echo $edLogo; ?>" style="max-height: 100px;">
											<?php

									}
								}



									// calculate tax percent
								if (false) {
									$shippingAddress = $user['shipping_address'];
									$taxDetails = getTaxjar($shippingAddress);
									$taxDetails = json_decode($taxDetails, true);
										//print_r($taxDetails);
									$taxTitle = '';
									$taxPercent = 0;
									if (!isset($taxDetails['rate']) && isset($taxDetails['error'])) {
										$taxTitle = $taxDetails['error'];
										$taxPercent = 0;
									} else if (isset($taxDetails['rate'])) {
										if (isset($taxDetails['rate']['county'])) {
											$taxTitle = "Tax in " . $taxDetails['rate']['county'];
										} else if (isset($taxDetails['rate']['name'])) {
											$taxTitle = "Tax in " . $taxDetails['rate']['name'];
										}
										if (isset($taxDetails['rate']['combined_rate'])) {
											$taxPercent = $taxDetails['rate']['combined_rate'];
										} else if (isset($taxDetails['rate']['standard_rate'])) {
											$taxPercent = $taxDetails['rate']['standard_rate'];
										}
									}
								} else {
									$taxTitle = "Please Select Shipping";
									if ($formData->getData('taxTitle')) {
										$taxTitle = $formData->getData('taxTitle');
									}
									$taxPercent = 0;
								}
									// status = 404, error = Not Found, detail => No such route
									// city_rate, county_rate, combined_district_rate, combined_rate,

								if (false) {
									$countryCode = $shippingAddress['country_id'];
									$regionId = $shippingAddress['region_id'];
									$zipCode = $shippingAddress['zip'];
									$state = $shippingAddress['state'];

										//$customer = Mage::getModel('customer/customer')->load( '2' );
										//$custTax = $customer->getTaxClassId();
									$custTax = 5;

									$TaxRequest = new Varien_Object();
									$TaxRequest->setCountryId($countryCode);
									if (is_numeric($regionId)) {
										$TaxRequest->setRegionId($regionId);
									}
									$TaxRequest->setPostcode($zipCode);
									$TaxRequest->setStore(Mage::app()->getStore());
									$TaxRequest->setCustomerClassId($custTax);
									$TaxRequest->setProductClassId(2);  // 2=taxable id (all our products are taxable)

									$taxCalculationModel = Mage::getSingleton('tax/calculation');
									$taxPercent = $taxCalculationModel->getRate($TaxRequest);
									$taxRules = ($taxCalculationModel->getAppliedRates($TaxRequest));
									$taxTitle = "";
									if (is_array($taxRules[0]['rates'][0])) {
										$taxTitle = $taxRules[0]['rates'][0]['title'];
									}
								}

								?>

								</div>
								<!-- <div class="col-lg-6 col-md-6 col-sm-6 mb-5">

								</div> -->
							</div>
							<?php if ('preview' != $mageAction) { ?>
							<!-- <div class="row align-items-center no-print"> -->
							<div class="grid-full element-container">
								<!-- <div class="col-lg-2 col-md-2 col-sm-2 mb-2 align-items-center"> -->
								<div class="clear-button mb-2 grid12-12">
									<input type="button" onclick="return clearForm();" class="btn btn-primary right grid12-xs-12" value="Clear Form">
									<input type="hidden" name="browser_id" value="<?php echo $this->htmlEscape($formData->getData('browser_id')) ?>">
								</div>
							</div>
							<?php 
					} ?>
							<div class="grid-full element-container">
								<div class="grid12-6 grid12-xs-12 mb-md-2 mb-sm-1">
									<div class="form-group form-inline mb-3">
										<label for="clientName" class="col-lg-3 col-md-4 col-sm-5 col-form-label justify-content-start">Client
											Name:</label>
										<input type="text" class="col-lg-9 col-md-8 col-sm-7 form-control required-entry" id="clientName"
											placeholder="Client Name" alt="Client Name" name="clientName" autocomplete="off" value="<?php echo $this->htmlEscape($formData->getData('clientName')) ?>">
									</div>

									<div class="form-group form-inline mb-3">
										<label for="monogramName" class="col-lg-3 col-md-4 col-sm-5 col-form-label justify-content-start">Monogram Name:</label>
										<input type="text" class="col-lg-9 col-md-8 col-sm-7 form-control required-entry" id="monogramName"
											placeholder="Exactly as monogram is to appear" name="monogramName" autocomplete="off" value="<?php echo $this->htmlEscape($formData->getData('monogramName')) ?>">
									</div>
								</div>

								<div class="grid12-6 grid12-xs-12 mb-md-2 mb-sm-1">
									<div class="form-group form-inline mb-3">
										<label for="orderDate" class="col-lg-3 col-md-4 col-sm-5 col-form-label justify-content-start">Date:</label>
										<input type="text" class="col-lg-9 col-md-8 col-sm-7 form-control required-entry" id="orderDate" autocomplete="off" placeholder="Date your client placed order" name="orderDate" data-type="datepicker" value="<?php echo $this->htmlEscape($formData->getData('orderDate')) ?>">
										<span class="input-group-addon">
											<span class="glyphicon glyphicon-calendar"></span>
										</span>
									</div>

									<div class="form-group form-inline mb-3">
										<label for="orderDate" class="col-lg-3 col-md-4 col-sm-5 col-form-label justify-content-start">Date of Body Scan:</label>
										<input type="text" class="col-lg-9 col-md-8 col-sm-7 form-control required-entry" id="bodyScanDate" autocomplete="off" placeholder="Date of Body Scan" name="bodyScanDate" data-type="datepicker" value="<?php echo $this->htmlEscape($formData->getData('bodyScanDate')) ?>">
										<span class="input-group-addon">
											<span class="glyphicon glyphicon-calendar"></span>
										</span>
									</div>

									<div class="form-group form-inline mb-3">
										<label for="clientWeight" class="col-lg-3 col-md-3 col-sm-3 col-form-label justify-content-start">Client
											Weight:</label>
										<input type="text" class="col-lg-2 col-md-2 col-sm-2 form-control required-entry validate-number" id="clientWeight"
											placeholder="" name="clientWeight" maxlength="4" autocomplete="off" value="<?php echo $this->htmlEscape($formData->getData('clientWeight')) ?>">

										<label class="col-form-label px-2 col-lg-3 col-md-3 col-sm-3"> <?php echo $user['weight_type']; ?> as of </label>
										<input type="hidden" name="weight_type" id="weight_type" value="<?php echo $user['wegith_type']; ?>" />
										<input type="text" class="col-lg-4 col-md-4 col-sm-4 form-control hasDatepicker" id="scanDate"
											placeholder="mm/dd/yy" name="scanDate" data-type="datepicker" autocomplete="off" value="<?php echo $this->htmlEscape($formData->getData('scanDate')) ?>">
										<span class="input-group-addon">
											<span class="glyphicon glyphicon-calendar"></span>
										</span>
									</div>

								</div>
								<!--end of col-->
							</div>

							<div class="grid-full element-container">
								<div class="grid12-6 grid12-xs-12 mb-md-2 mb-sm-1">
									<div class="form-group form-inline mb-3">
										<label for="orderId" class="col-lg-3 col-md-4 col-sm-5 col-form-label justify-content-start">Order #:</label>
										<input type="text" class="col-lg-9 col-md-8 col-sm-7 form-control required-entry" id="orderId"
											placeholder="[CCPPPPSSS]" name="orderId" data-togglex="tooltip" data-placement="top" autocomplete="off"  data-html="true"
											title="CC : client initials <br/>PPPP : last 4 digits of clientâ€™s mobile phone #  <br/>SSS : initials of staff who performed the body scan" value="<?php echo $this->htmlEscape($formData->getData('orderId')) ?>">
										<label class="orderNumberHint">[CCPPPPSSS]</label>
									</div>
								</div>

								<div class="grid12-6 grid12-xs-12 mb-5 mb-md-2 mb-sm-1">
									<div class="form-group form-inline mb-3">
										<label for="orderCAId" class="col-lg-3 col-md-4 col-sm-5 col-form-label justify-content-start">CA P.O. #:</label>
										<input type="text" class="col-lg-9 col-md-8 col-sm-7 form-control" id="orderCAId"
											placeholder="Your P.O.# (optional)" name="orderCAId" autocomplete="off" value="<?php echo $this->htmlEscape($formData->getData('orderCAId')) ?>">
									</div>
								</div>
							</div>

							<!--end of row-->
							<div class="grid-full element-container">

								<div class="grid12-12 mb-md-0 position-relative">
									<table class="table table-bordered sales-info">
										<thead></thead>
										<tbody>
										<tr>
											<th rowspan="2" width="">
												<div class="d-table-cell">
													<div class="custom-radio form-inline">
														<?php
													$optionVal = $formData->getData('sales_rep');
													if (!$optionVal) {
														$optionVal = $formData->getData('account_type');
													}
													?>
														<input type="radio" name="sales_rep" id="orderWC" class="form-control validate-one-required-by-name" value="WC" <?php echo ('WC' == $optionVal) ? 'checked="checked"' : ''; ?>>
														<label class="col-form-label px-2" for="orderWC">WC</label>
													</div>
													<div class="custom-radio form-inline">
														<input type="radio" name="sales_rep" id="orderIC" class="form-control validate-one-required-by-name" value="IC" <?php echo ('IC' == $optionVal) ? 'checked="checked"' : ''; ?>>
														<label class="col-form-label px-2" for="orderIC">IC</label>
													</div>
													<div class="custom-radio form-inline">
														<input type="radio" name="sales_rep" id="orderCA" class="form-control validate-one-required-by-name" value="CA" <?php echo ('CA' == $optionVal) ? 'checked="checked"' : ''; ?>>
														<label class="col-form-label px-2" for="orderCA">CA</label>
													</div>
												</div>
											</th>
											<td>
												<div class="sales-name form-inline pb-2">
													<div class="col-6">
														<div class="row">
															<label for="repName"
																class="col-lg-4 col-md-12 col-sm-12 col-form-label justify-content-start">Sales Rep Name:</label>
															<div class="col-lg-8 col-md-12 col-sm-12">
																<input type="text" class="form-control col-11 required-entry" id="repName" placeholder="" name="repName" autocomplete="off" value="<?php echo $this->htmlEscape($formData->getData('repName')) ?>">
															</div>
														</div>
													</div>
													<div class="col-6">
														<div class="row form-inline">
															<label for="commName" class="col-lg-4 col-form-label justify-content-start">Commercial Account Name:</label>
															<div class="col-lg-8">
																<input type="text" class="form-control col-11" id="commName" placeholder="" name="commName" autocomplete="off" value="<?php echo $this->htmlEscape($formData->getData('commName')) ?>">
															</div>
														</div>
													</div>
												</div>
											</td>
										</tr>
										<tr>
											<td>
												<div class="sales-email form-inline pb-2">
													<div class="col-6">
														<div class="row">
															<label for="repEmail" class="col-lg-4 col-md-12 col-sm-12 col-form-label justify-content-start">Sales Rep Email:</label>
															<div class="col-lg-8 col-md-12 col-sm-12">
																<input type="text" class="form-control col-11" id="repEmail" placeholder="" autocomplete="off" name="repEmail" value="<?php echo $this->htmlEscape($formData->getData('repEmail')) ?>">
															</div>
														</div>
													</div>
													<div class="col-6">
														<div class="row">
															<label for="repPhone" class="col-lg-4 col-md-12 col-sm-12 col-form-label justify-content-start">Sales Rep Phone:</label>
															<div class="col-lg-8 col-md-12 col-sm-12">
																<input type="text" class="form-control col-11" id="repPhone" placeholder="" autocomplete="off" name="repPhone" value="<?php echo $this->htmlEscape($formData->getData('repPhone')) ?>">
															</div>
														</div>
													</div>
												</div>
											</td>
										</tr>
										</tbody>
									</table>
								</div>
								<!--end of col-->
							</div>
							<!--end of row-->
						</div>
					</div>
					<!--end of container-->
				</section>
				<!--end of section-->

				<section class="custom-options"></section>

				

				<?php
			if ("index" == $mageAction) {
				?>
				<section class="custom-option-buttons mt-5 no-print">
					<div class="container button-set">
						<div class="col-12"><h6>Add a Garment</h6></div>
						<div class="row align-items-center">
							<div class="col-lg-1 col-md-2 col-sm-2 mb-2 align-items-center">
								<a class="btn btn-primary" href="javascript:void(0);" data-bind="jacket-options">Jacket</a>
							</div>
							<div class="col-lg-1 col-md-2 col-sm-2 mb-2 align-items-center">
								<a class="btn btn-primary" href="javascript:void(0);" data-bind="pants-options">Pants</a>
							</div>
							<div class="col-lg-1 col-md-2 col-sm-2 mb-2 align-items-center">
								<a class="btn btn-primary" href="javascript:void(0);" data-bind="skirt-options">Skirt</a>
							</div>
							<div class="col-lg-1 col-md-2 col-sm-2 mb-2 align-items-center">
								<a class="btn btn-primary" href="javascript:void(0);" data-bind="dress-options">Dress</a>
							</div>
							<!--<div class="col-lg-1 col-md-2 col-sm-2 mb-2 align-items-center">-->
							<!--<a class="btn btn-primary" href="javascript:;" data-bind="blouse-options">Blouse</a>-->
							<!--</div>-->
						</div>

					</div>
				</section>
				<?php

		}
		?>

				<section class="design-notes mt-5">
					<div class="container">
						<div class="form-group">
							<label class="col-form-label">Comments:</label>
							<textarea class="form-control form-control-plaintext border-primary" placeholder="" name="designNotes" rows="10"><?php echo $this->htmlEscape($formData->getData('designNotes')); ?></textarea>
							<table class="table table-bordered" width="100%">
								<tr style="display: none;">
									<td width="30%">Discount ($)<input type="hidden" name="discountAmount" value="0"></td>
									<td width="30%" class="discountAmount">0</td>
									<td width="20%">Estimated Subtotal($)</td>
									<td class="estimatedOrderSubtotal"></td>
								</tr>
								<tr>
									<td width="30%">Tax Title</td>
									<td width="30%" class="taxTitle"><?php echo $formData->getData('taxTitle'); ?></td>
									<td width="20%">Tax Percent to apply</td>
									<td class="taxPercentToApply"><?php echo $formData->getData('taxPercent'); ?>%</td>
								</tr>
								<tr>
									<td width="30%">Number of Pieces</td>
									<td width="30%" class="noOfPieces">0</td>
									<td width="20%">Estimated Order Total($)</td>
									<td class="estimatedOrderTotal"></td>
								</tr>
								<tr>
									<td>Invoicing email address </td>
									<td colspan="3">
										<input type="hidden" name="estimatedOrderTotal" value="">
										<input type="email" class="form-control validate-email" name="clientEmail" value="<?php echo $this->htmlEscape($formData->getData('clientEmail')) ?>">
										<input type="hidden" name="taxPercent" value="<?php echo $formData->getData('taxPercent'); ?>"/>
										<input type="hidden" name="taxTitle" value="<?php echo $formData->getData('taxTitle'); ?>" />
									</td>
								</tr>
							</table>
						</div>
						<div class="form-group grid-full">
							<div class="grid12-4 custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" id="designStandard" name="designStandard" disabled>
								<label class="custom-control-label" for="designStandard">Standard</label>
							</div>
							<div class="grid12-4 custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" id="designComplex" name="designComplex" disabled>
								<label class="custom-control-label" for="designComplex">Complex</label>
							</div>
							<div class="grid12-4 custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" id="designHorgan" name="designHorgan" disabled>
								<label class="custom-control-label" for="designHorgan">Program G</label>
							</div>
						</div>

						<div class="form-group">
							<table class="table table-bordered pants-options-table" width="100%" cellspacing="1" cellpadding="1" border="1">
								<tbody>
									<tr>
										<td width="25%">
											<div class="form-inline">
												<label class="col-form-label">Shipping:</label>
												<select name="shippingType" id="shippingType" class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 style-select validate-select" onchange="toggleClientShipping();">
													<option value="">--Please select--</option>
													<option value="Pickup at Store">Pickup at Store</option>
													<option value="CA Ship to Client">CA Ship to Client</option>
												</select>
											</div>
										</td>
										<?php
									$shippingType = $formData->getData('shippingType');
									if (stristr($shippingType, "pickup")) {
										$sDisplay = "display: none;";
									} else {
										$sDisplay = "";
									}
									?>
										<td width="25%">
											<div class="form-inline shipping-zip" style="<?php echo $sDisplay; ?>">
												<label class="col-form-label">Zip Code:</label>
												<input type="text" class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="shippingZip" value="<?php echo $this->htmlEscape($formData->getData('shippingZip')) ?>" onblur="fetchShippingRate()">
											</div>
										</td>
										<td width="25%">
											<div class="form-inline shipping-state" style="<?php echo $sDisplay; ?>">
												<?php
											$shippingRegionId = $formData->getShippingRegionId();
											if (!empty($shippingRegionId)) {
												$showState = false;
												$showRegion = true;
											} else {
												$showState = true;
												$showRegion = false;
											}
											if ('preview' == $mageAction) {
												$showState = false;
												$showRegion = false;
											}
											$stateDisplay = "";
											$regionDisplay = "";
											if (!$showState) {
												$stateDisplay = "display:none;";
											}
											if (!$showRegion) {
												$regionDisplay = "display:none;";
											}
											?>
												<label class="col-form-label">State:</label>
												<input type="text" name="shippingState" value="<?php echo $this->htmlEscape($formData->getShippingState()) ?>" id="shippingState" class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 required-entry" title="<?php echo $this->__('State') ?>" onblur="fetchShippingRate()" style="<?php echo $stateDisplay; ?>" />
												<?php if ('preview' != $mageAction) { ?>
													<select name="shippingRegionId" id="shippingRegionId" class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 style-select validate-select" onchange="fetchShippingRate();" style="<?php echo $regionDisplay; ?>">
													</select>
												<?php 
										} else {
											$region = Mage::getModel('directory/region')->load($formData->getData('shippingRegionId'));
											$regionName = $region->getName();

											?>
													<input type="text" class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" value="<?php echo $regionName; ?>">
												<?php

										} ?>
											</div>
										</td>
										<td width="25%">
											<div class="form-inline shipping-country" style="<?php echo $sDisplay; ?>">
												<label class="col-form-label">Country:</label>
												<?php if ('preview' != $mageAction) { ?>
												<select name="shippingCountry" id="shippingCountry" class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 style-select validate-select" onchange="shippingCountryChanged();">
													<?php
												$_countries = Mage::getResourceModel('directory/country_collection')
													->loadData()
													->toOptionArray(false);
												$selectedCountry = $formData->getData('shippingCountry');
												if (empty($selectedCountry)) {
													$selectedCountry = 'US';
												}
												foreach ($_countries as $_country) {
													$selected = "";
													if ($_country['value'] == $selectedCountry) {
														$selected = ' selected="selected"';
													}
													?>
															<option <?php echo $selected; ?> value="<?php echo $_country['value']; ?>"><?php echo $_country['label']; ?></option>
														<?php

												}
												?>
												</select>
												<?php 
										} else {
											$shippingCountry = $formData->getData('shippingCountry');
											if (empty($shippingCountry)) {
												$shippingCountry = 'US';
											}
											$countryName = Mage::getModel('directory/country')->loadByCode($shippingCountry)->getName();
											?>
													<input type="text" class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" value="<?php echo $countryName; ?>">
												<?php

										} ?>
											</div>
										</td>
									</tr>
								</tbody>
							</table>

						</div>
					</div>
				</section>


				<?php
			if ('preview' != $mageAction) {
				?>
				<div class="moveTop">
					<a href="" id="return-to-top"><i class="icon-chevron-up"></i></a>
				</div>
				<div class="align-items-center form-buttons grid-full mt-3 mb-3">
					<div class="container">
						<div class="row">
							<?php if (false) {
							?>
							<div class="grid12-4 grid12-sxs-12 mb-2 align-items-center">
								<input type="button" onclick="preview();//return window.print()" class="btn btn-primary no-print"
									value="Print Preview" style="display: inline; ">
							</div>
							<?php

					}
					?>
							<div class="grid12-4 grid12-sxs-12 mb-2 align-items-center">
								<input type="button" onclick="return allHiddenPassed()" class="btn btn-primary no-print" value="Continue">
								<input type="hidden" name="optionOrders" id="optionOrders" value="" />
								<input type="hidden" name="protectCode" value="<?php echo $helper->getNewProtectCode(); ?>" />
							</div>
							<div class="grid12-4 grid12-sxs-12 mb-2 align-items-center al-center">
								<input type="button" onclick="return saveForLater();" class="btn btn-primary" value="Save for Later" style="display: inline; ">
							</div>
							<div class="grid12-4 grid12-sxs-12 mb-2 align-items-center al-right">
								<input type="button" onclick="return clearForm();" class="btn btn-primary" value="Clear Form" style="display: inline; ">
							</div>
						</div>
					</div>
				</div>
				<?php

		} else {
			?>
				<div class="row align-items-center">
					<?php
				$referer = $_SERVER['HTTP_REFERER'];
				$referer = rtrim($referer, "/");
				$tmp = explode("/", $referer);
				$last = end($tmp);
				if ('index' == $last || 'edform' == $last) {
					?>
					<div class="col-lg-2 col-md-2 col-sm-2 mb-2 align-items-center">
						<input type="button" onclick="return continueOrder();" class="btn btn-primary final-order" value="Continue Editing" style="display: inline; ">
					</div>
					<?php

			}
			?>
					<div class="col-lg-1 col-md-1 col-sm-1 mb-1 align-items-center">
						<input type="button" onclick="return window.print();" class="btn btn-primary print-order" value="Print" style="display: inline; ">
					</div>
					<?php
				if ('index' == $last || 'edform' == $last) {
					?>
					<div class="col-lg-2 col-md-2 col-sm-2 mb-2 align-items-center">
						<input type="button" onclick="return placeOrder();" class="btn btn-primary final-order" value="Place Order" style="display: inline; ">
					</div>
					<?php 
			}
			?>
				</div>
				<?php

		}
		?>
			</div> <!-- .main-container -->
	<?php if ('preview' != $mageAction) { ?>
		</div> <!-- main-container wrapper .col-10 -->
	</div> <!-- outer row -->
	<?php 
} ?>

</form>


		<section class="custom-option-objs hide">

			<!-- content of Jackets -->
			<div id="jacket-options" class="jacket-options container mt-5" item-type="jacket">
				<div class="row mt-3 border-top border-primary justify-content-around no-print">
					<div class="col-12 mt-1 mb-3">
						<button type="button" class="close" aria-label="Close" >
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				</div>

				<div class="row mt-2">
					<div class="col-12 col-lg-12 col-md-12 my-3">
						<div class="d-inline-block border-bottom px-2">
							<label class="font-weight-bold mr-3">Jacket : </label>
							<label class="jacket-id col-lg-1 col-md-2 mr-5 matchId"></label>
						</div>

						<div class="d-inline-block">
							<div class="form-inline">
								<label class="mr-2" for="jMatched">Matched to </label>
								<input class="form-control" name="jacketMatched[]" id="jMatched" maxlength="3" onblur="return matchTo(this)">
							</div>
						</div>
					</div>
					<div class="col-12 col-lg-12 col-md-12 col-sm-12 p-md-3">
						<label class="font-weight-bold">Jacket Length</label>
						<div class="p-3 border border-dark align-items-center options-group">
							<div class="row">
								<div class="col-lg-6 col-md-12 col-sm-6 my-1">
									<div class="row mb-1">
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="d-inline-block mt-2">
												<div class="form-inline">
													<label class="form-check-label" for="jacketLengthBelowNavel">
														<input type="radio" name="jacketLengthLevel"
															id="jacketLengthBelowNavel" class="form-check-input" validation="validate-one-required-by-name" value='2" below navel'>2" below navel
													</label>
												</div>
											</div>
										</div>
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="d-inline-block mt-2">
												<div class="form-inline">
													<label class="form-check-label" for="jacketLengthSeatLevel">
														<input type="radio" name="jacketLengthLevel"
															id="jacketLengthSeatLevel" class="form-check-input" validation="validate-one-required-by-name" value="At seat level">At seat level
													</label>
												</div>
											</div>
										</div>
									</div>
									<div class="row mb-1">
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="align-items-center d-inline-block m-auto">
												<img src="<?php echo $this->getSkinUrl('edform/imgs/jacket-length-1.png'); ?>">
											</div>
										</div>
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="align-items-center d-inline-block m-auto">
												<img src="<?php echo $this->getSkinUrl('edform/imgs/jacket-length-2.png'); ?>">
											</div>
										</div>
									</div>
								</div>
								<div class="col-lg-6 col-md-12 col-sm-6 my-1">
									<div class="row mb-1">
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="d-inline-block mt-1">
												<div class="custom-radio form-inline d-inline-block">
													<input type="radio" name="jacketLengthLevel"
														id="jacketLengthXBelowNavel" class="form-control" validation="validate-one-required-by-name" value='" below navel'>
													<input type="text" name="jacketLengthLevelBelowNavel[]" class="form-control small col-2" style="padding-left: 5px; padding-right:5px; max-width: 20%;" disabled>
													<label class="col-form-label d-inline-block" for="jacketLengthXBelowNavel">
														" below navel
													</label>
												</div>
											</div>
										</div>
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="d-inline-block mt-2">
												<div class="form-inline">
													<label class="form-check-label" for="jacketLengthOther">
														<input type="radio" name="jacketLengthLevel" id="jacketLengthOther"
															class="form-check-input" validation="validate-one-required-by-name" value="Other*">Other*
													</label>
												</div>
											</div>
										</div>
									</div>
									<input type="hidden" name="jacketLengthLevel[]" value="" />
									<div class="row mb-1">
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="align-items-center d-inline m-auto">
												<img src="<?php echo $this->getSkinUrl('edform/imgs/jacket-length-3.png'); ?>">
											</div>
										</div>
										<div class="col-6 col-lg-6 col-md-6 col-sm-6 m-0 text-center">
											<div class="align-items-center d-inline m-auto">
												<img src="<?php echo $this->getSkinUrl('edform/imgs/jacket-length-4.png'); ?>">
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row explain-other">
								<div class="col-3 col-lg-3 col-md-3">
									<label class="col-form-label" for="jacketExplain">* Explain if Other</label>
								</div>
								<div class="col-9 col-lg-9 col-md-9">
									<input type="text" id="jacketExplain" class="form-control" name="jacketExplain[]" disabled>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="row mt-2 py-sm-3 border-bottom field-group">
					<label class="col-12 py-sm-1 mb-3 border-bottom">Fit preference specific to this item:</label>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="jacketPreferenceTight">
								<input type="radio" name="jacketPreference" id="jacketPreferenceTight"
									class="form-check-label" validation="validate-one-required-by-name" value="Body Conforming/Tight">Body Conforming/Tight
							</label>
						</div>
					</div>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="jacketPreferenceNicely">
								<input type="radio" name="jacketPreference" id="jacketPreferenceNicely"
									class="form-check-input" validation="validate-one-required-by-name" value="Nicely Contoured">Nicely Contoured
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-3 col-md-4 col-sm-6 my-2 custom-control custom-radio">
						<div class="form-inline">
							<label class="form-check-label" for="jacketPreferenceRelaxed">
								<input type="radio" name="jacketPreference" id="jacketPreferenceRelaxed"
									class="form-check-input" validation="validate-one-required-by-name" value="Relaxed">Relaxed
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-3 col-md-4 col-sm-6 my-2 custom-control custom-radio">
						<div class="form-inline">
							<label class="form-check-label" for="jacketPreferenceLoose">
								<input type="radio" name="jacketPreference" id="jacketPreferenceLoose"
									class="form-check-input" validation="validate-one-required-by-name" value="Quite Loose">Quite Loose
							</label>
						</div>
					</div>
					<input type="hidden" name="jacketPreference[]" value="" />
				</div>

				<div class="row pb-1 mt-5 my-2 border-bottom">
					
					<div class="col-10 col-lg-10 col-md-11 form-inline">
						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="jacketUnlined">
									<input type="radio" name="jacketLine" id="jacketUnlined" class="form-check-input" value="Unlined">Unlined
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="jacketLined">
									<input type="radio" name="jacketLine"  id="jacketLined" class="form-check-input" value="Lined" checked="checked">Lined
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="jacketPartial">
									<input type="radio" name="jacketLine" id="jacketPartial" class="form-check-input" value="Partial*" disabled>Partial*
								</label>
							</div>
						</div>
						<input type="hidden" name="jacketLine[]" value="" />

						<div class="d-inline-block col-lg-6 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="col-form-label mx-sm-3" for="jacketExpand">*Explain if Partial</label>
								<input type="text" id="jacketExpand" class="form-control col-lg-8" name="jacketExpand[]" disabled>
							</div>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-1 text-right">
						<label class="price-label text-right">Price ($)</label>
					</div>
				</div>

				<div class="row">
					<div class="col-12 col-lg-12 col-md-12 text-center text-md-left section-intro">
						<table class="table table-bordered jacket-options-table" width="100%" cellspacing="1"
							cellpadding="1" border="1">
							<tr>
								<td width="20%" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Style
										</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0 style-select" name="jacketStyle[]" onchange="jacketStyleSelected(this);" validation="validate-select">
											<option value="">--</option>
											<option value="EJ-01-S Ada" tStyle="SB/ Jacket">EJ-01-S Ada</option>
											<option value="EJ-02-S Brooke" tStyle="SB/ Jacket">EJ-02-S Brooke</option>
											<option value="EJ-03-S Carly" tStyle="SB/ Jacket">EJ-03-S Carly</option>
											<option value="EJ-04-S Dani" tStyle="SB/ Jacket">EJ-04-S Dani</option>
											<option value="EJ-05-S Emme" tStyle="SB/ Jacket">EJ-05-S Emme</option>
											<option value="EJ-06-S Faye" tStyle="SB/ Jacket">EJ-06-S Faye</option>
											<option value="EJ-07-C Lauren" tStyle="SB/ Jacket">EJ-07-C Lauren</option>
											<option value="EJ-08-S Mari" tStyle="SB/ Jacket">EJ-08-S Mari</option>
											<option value="EJ-09-S Alex" tStyle="DB/ Jacket">EJ-09-S Alex</option>
											<option value="EJ-10-S Demi" tStyle="SB/ Jacket">EJ-10-S Demi</option>
											<option value="EJ-11-C Tina" tStyle="SB/ Jacket">EJ-11-C Tina</option>
											<option value="EJ-12-SB-C Ann" tStyle="SB/ Jacket">EJ-12-SB-C Ann</option>
											<option value="ELJ-01-DB-C Leather Moto" tStyle="DB/ Jacket">ELJ-01-DB-C Leather Moto</option>
											<option value="ELJ-02-SB-C Leather Zip-Up" tStyle="SB/ Jacket">ELJ-02-SB-C Leather Zip-Up</option>
										</select>
									</div>
								</td>
								<td width="20%" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Lapel</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0" name="jacketLapel[]">
											<option value="--">--</option>
											<option value="EDC-1 Notch">EDC-1 Notch</option>
											<option value="EDC-2 Peak">EDC-2 Peak</option>
											<option value="EDC-3 Shawl Collar">EDC-3 Shawl Collar</option>
											<option value="EDC-4 Shirt Collar">EDC-4 Shirt Collar</option>
											<option value="EDC-5 Cloverleaf">EDC-5 Cloverleaf</option>
											<option value="EDC-6 Jewel Neck">EDC-6 Jewel Neck</option>
											<option value="EDC-7 Cardigan">EDC-7 Cardigan</option>
										</select>
									</div>
								</td>
								<td width="15%" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Outer Pockets</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0"
												name="jacketOutSidePokets[]">
											<option value="--">--</option>
											<option value="None">None</option>
											<option value="ljp-1">LJP-1 Lower Piped with Flap</option>
											<option value="ljp-2">LJP-2 Lower Dbl-Piped no Flap</option>
											<option value="ljp-3">LJP-3 Lower Single-Welt</option>
											<option value="ljp-4">LJP-4 Lower Slanted Piped No Flap</option>
											<option value="ljp-5">LJP-5 Lower Slanted Piped with Flap</option>
											<option value="ljp-6">LJP-6 Outside Ticket Pocket</option>
											<option value="ljp-7">LJP-7 Lower Patch Pocket No Flap</option>
											<option value="ljp-8">LJP-8 Lower Patch Pocket with Flap</option>
										</select>
									</div>
								</td>
								<td width="15%" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Inner Pockets</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0"
												name="jacketInsideCigarettePokets[]">
											<option value="--">--</option>
											<option value="None">None</option>
											<option value="Left Side">Left Side</option>
											<option value="Right Side">Right Side</option>
											<option value="Both Sides">Both Sides</option>
										</select>
									</div>
								</td>
								<td width="20%" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Buttons</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0" name="jacketButtons[]" onchange="toggleDesignDetailValidation(this);">
											<option value="--">--</option>
											<option value="matched">Matched</option>
											<option value="fancy">Fancy*</option>
											<option value="substitute">Substitute*</option>
										</select>
									</div>
								</td>
								<td width="10%"></td>
							</tr>
							<tr>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Fabric Code</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0 select-fabric" name="jacketFabricCode[]" onchange="calculateGroups();">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="jacketFabricId">Fabric #</label>
										<input type="text" id="jacketFabricId" class="form-control col-6 col-md-12 col-sm-12 mb-2 mb-sm-0 fabric-id"
											name="jacketFabricId[]">
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Fabric Description</label>
										<input type="text" id="jacketDescription" class="form-control col-6 col-md-12 col-sm-12"
											name="jacketDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline form-check form-check-inline">
										<label class="form-check-label" for="jacketFabStretch">
											<input type="checkbox" class="form-check-input" id="jacketFabStretch" name="jacketStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Lining Code</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining validate-select" name="jacketLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Fancy">Fancy</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="jacketLiningId">Lining #</label>
										<input type="text" id="jacketLiningId" class="form-control col-6 col-md-12 col-sm-12 mb-2 mb-sm-0"
											name="jacketLiningId[]">
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="jacketLiningDescription">Lining
											Description</label>
										<input type="text" id="jacketLiningDescription" class="form-control col-6 col-md-12 col-sm-12"
											name="jacketLiningDescription[]" placeholder="Description">
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline form-check form-check-inline">
										<label class="form-check-label" for="jacketLiningStretch">
											<input type="checkbox" class="form-check-input" id="jacketLiningStretch"
												name="jacketLiningStretchBox[]" disabled>Stretch?
											<input type="hidden" name="jacketLiningStretch[]" value="No" />
										</label>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Fab. Code</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0" name="jacketAlternateCode[]">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="jacketAlternateId">Alt. Fab.
											#</label>
										<input type="text" id="jacketAlternateId" class="form-control col-6 col-md-12 col-sm-12 mb-2 mb-sm-0"
											name="jacketAlternateId[]">
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="jacketAlternateDescription">Alt. Fab.
											Description</label>
										<input type="text" id="jacketAlternateDescription" class="form-control col-6 col-md-12 col-sm-12"
											name="jacketAlternateDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline form-check form-check-inline">
										<label class="form-check-label" for="jacketAltFabStretch">
											<input type="checkbox" class="form-check-input" id="jacketAltFabStretch"
												name="jacketAlternateStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>
							<tr>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Lining Code</label>
										<select class="custom-select col-6 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining validate-select" name="jacketAltLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Fancy">Fancy</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="jacketAltLiningId">Alternate Lining
											#</label>
										<input type="text" id="jacketAltLiningId" class="form-control col-6 col-md-12 col-sm-12 mb-2 mb-sm-0"
											name="jacketAltLiningId[]">
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="col-6 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="jacketAltLiningDescription">Alt. Lining
											Description</label>
										<input type="text" id="jacketAltLiningDescription" class="form-control col-6 col-md-12 col-sm-12"
											name="jacketAltLiningDescription[]" placeholder="Description">
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline form-check form-check-inline">
										<label class="form-check-label" for="jacketAltLiningStretch">
											<input type="checkbox" class="form-check-input" id="jacketAltLiningStretch"
												name="jacketAltLiningStretchBox[]" disabled>Stretch?
											<input type="hidden" name="jacketAltLiningStretch[]" value="No" />
										</label>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>
							<tr>
								<td class="text-md-center" colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="jacketSpecial">Specials</label>
									</div>
								</td>
								<td colspan="3" class="text-md-center">
									<div class="form-inline">
										<label class="form-check-label special-check" for="jacketSpecialSf">
											<input type="checkbox" name="jacketSpecialSf[]" id="jacketSpecialSf"
												class="form-check-input checkbox-special"
												value="Self-Fabric Belt w/Covered Buckle"
												onchange="calculateGroups();">Self-Fabric Belt w/Covered Buckle
										</label> <br/>
										<label class="form-check-label special-check" for="jacketSpecialTe">
											<input type="checkbox" name="jacketSpecialTe[]" id="jacketSpecialTe"
												class="form-check-input checkbox-special"
												value="Tuxedo Effect"
												onchange="calculateGroups();">Tuxedo Effect
										</label>
									</div>
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<td class="text-md-center" colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="jacketExtras">Extras</label>
										<input type="text" name="jacketExtrax[]" id="jacketExtras"
											class="form-control col-12"
											placeholder="Description">
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="col-12 mr-3" for="jacketExtrasW">W($)</label>
										<input type="text" name="jacketExtrasW[]" id="jacketExtrasW" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td class="text-md-center">
									<div class="form-inline">
										<label class="col-12 mr-3" for="jacketExtrasR">R($)</label>
										<input type="text" name="jacketExtrasR[]" id="jacketExtrasR" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td>
									<div class="form-inline section-price">
										$
									</div>
									<input type="hidden" name="sectionPrice[]" value="" />
								</td>
							</tr>
						</table>
					</div>
				</div>

				<div class="row">
					<div class="col-12">
						<div class="form-group mb-5">
							<label class="col-form-label">Design Details:</label>
							<textarea class="form-control form-control-plaintext border-primary jacketDesignDetails"
									placeholder="* Describe special fit issues, trim and other details here."
									name="jacketDesignDetails[]" rows="5"></textarea>
						</div>
					</div>
				</div>
				<!--end of row-->
			</div>
			<!-- End of Jackets-->

			<!-- content of Pants -->
			<div id="pants-options" class="pants-options container mt-5" item-type="pants">
				<div class="row mt-3 border-top border-primary justify-content-around no-print">
					<div class="col-12 mt-1 mb-3">
						<button type="button" class="close" aria-label="Close" >
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				</div>

				<div class="row mt-2">
				<div class="col-12 col-lg-12 col-md-12 col-sm-12 my-3">
						<div class="d-inline-block border-bottom px-2">
							<label class="font-weight-bold mr-3">Pants : </label>
							<label class="pants-id mr-5 matchId"></label>
						</div>

						<div class="d-inline-block">
							<div class="form-inline">
								<label class="mr-2" for="pMatched">Matched to </label>
								<input class="form-control matchId" name="pantsMatched[]" id="pMatched" maxlength="3" onblur="return matchTo(this)">
							</div>
						</div>
					</div>
					<div class="col-6 col-lg-7 col-md-12 col-sm-12 my-3">
						<label class="font-weight-bold">Pants Level</label>
						<div class="p-md-3 border border-dark pants-level">
							<div class="row">
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="custom-radio form-inline d-inline-block">
											<input type="radio" class="form-control " id="pantsLevelBelowNavel"
												name="pantsLevel" validation="validate-one-required-by-name" value='" below navel'>
											<input type="text" name="pantsLevelBelowNavelVal[]" id="pantsLevelBelowNavelVal"
												class="form-control small col-2 px-1" disabled>
											<label class="form-check-label d-inline-block" for="pantsLevelBelowNavel">" below navel
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="pantsLevelAtNavel">
												<input type="radio" name="pantsLevel" id="pantsLevelAtNavel" class="form-check-input" validation="validate-one-required-by-name" value="at navel">
												at navel
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block">
										<div class="form-inline custom-radio d-inline-block">
											<input type="radio" name="pantsLevel" id="pantsLevelAboveNavel"
												class="form-control" validation="validate-one-required-by-name" value='" above navel'>
											<input type="text" name="pantsLevelAboveNavelVal[]" id="pantsLevelAboveNavelVal"
												class="form-control small col-2 px-1" disabled>
											<label class="col-form-label d-inline-block" for="pantsLevelAboveNavel">" above navel
											</label>
										</div>
									</div>
								</div>
							</div>
							<div class="row images my-3">
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/pant-level-1.png'); ?>">
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/pant-level-2.png'); ?>">
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/pant-level-3.png'); ?>">
									</div>
								</div>
							</div>
						</div>
					</div>
					<input type="hidden" name="pantsLevel[]" value="" />
					<div class="col-6 col-lg-5 col-md-12 col-sm-12 my-3">
						<label class="font-weight-bold">Pants Shape</label>
						<div class="p-md-3 border border-dark pants-shape">
							<div class="row">
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="pantsShapeTapered">
												<input type="radio" name="pantsShape" id="pantsShapeTapered"
													class="form-check-input" validation="validate-one-required-by-name" value="Tapered">Tapered
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="pantsShapeStraight">
												<input type="radio" name="pantsShape" id="pantsShapeStraight"
													class="form-check-input" validation="validate-one-required-by-name" value="Straight">Straight
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="pantsBootCut">
												<input type="radio" name="pantsShape" id="pantsBootCut" class="form-check-input" validation="validate-one-required-by-name" value="Boot">Boot
												Cut
											</label>
										</div>
									</div>
								</div>
							</div>
							<div class="row images my-3">
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/pants-shape-1.png'); ?>">
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/pants-shape-2.png'); ?>">
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/pants-shape-3.png'); ?>">
									</div>
								</div>
							</div>
							<div class="row p-2">
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block mt-1">
										<div class="form-inline">
											<label class="form-check-label" for="pantsShapeOther">
												<input type="radio" name="pantsShape" id="pantsShapeOther" class="form-check-input" value="Other*">
												Other*
											</label>
										</div>
									</div>
								</div>
								<div class="col-9 col-lg-9 col-md-9 m-0">
									<div class="d-inline-block">
										<div class="form-inline">
											<label class="pl-1 mr-sm-3" for="pantsShapeExplain"> * Explain if Other </label>
											<input type="text" name="pantsShapeExplain[]" id="pantsShapeExplain"
												class="form-control col-6" disabled>
										</div>
									</div>
								</div>
							</div>
							<input type="hidden" name="pantsShape[]" value="" />
						</div>
					</div>
				</div>

				<div class="row mt-2 pt-3">
					<div class="col-lg-2 col-md-12 col-sm-12 mt-1">
						<label class="col-form-label">Pants Length : </label>
					</div>

					<div class="col-lg-5 col-md-12 col-sm-12 mt-1 form-inline">
						<div class="d-inline-block col-md-3 mr-5 mx-md-0">
							<div class="form-inline">
								<label class="form-check-label" for="ptPantsLengthFull">
									<input type="radio" name="ptPantsLength" id="ptPantsLengthFull" class="form-check-input" validation="validate-one-required-by-name" value="Full">Full
								</label>
							</div>
						</div>
						<div class="d-inline-block col-md-5 mr-5 mx-md-0 px-md-0">
							<div class="form-inline">
								<label class="form-check-label" for="ptPantsCropped">
									<input type="radio" name="ptPantsLength" id="ptPantsCropped" class="form-check-input" validation="validate-one-required-by-name" value="Ankle">Ankle
									Cropped
								</label>
							</div>
						</div>
						<div class="d-inline-block col-md-4 mr-5 mx-md-0">
							<div class="form-inline">
								<label class="form-check-label" for="ptPantsOther">
									<input type="radio" name="ptPantsLength" id="ptPantsOther" class="form-check-input" validation="validate-one-required-by-name" value="Other*">Other*
								</label>
							</div>
						</div>
					</div>
					<input type="hidden" name="ptPantsLength[]" value="" />

					<div class="col-lg-5 col-md-12 col-sm-12 mt-1 my-md-3">
						<div class="form-inline">
							<label class="form-control-label mr-sm-3" for="ptPantsLengthExplain"> * Explain if Other
							</label>
							<input type="text" name="ptPantsLengthExplain[]" id="ptPantsLengthExplain"
								class="form-control col-lg-7 col-md-8" disabled>
						</div>
					</div>

					<div class="col-12 col-lg-12 col-md-12 col-sm-12 p-md-3 manual-info">
						<div class="row">
							<div class="col-lg-4 col-md-12 col-sm-12 mb-md-2 form-inline">
								<div class="form-group">
									<label class="mr-sm-3" for="ptHeelHeight">Preferred Pants Heel Height</label>
									<input type="text" name="ptHeelHeight[]" id="ptHeelHeight" class="col-2 form-control" onblur="blurHeel(this);">
									<label class="ml-sm-2"><strong>"</strong></label>
								</div>
							</div>
							<div class="col-lg-6 col-md-12 col-sm-12 form-inline">
								<div class="form-group">
									<label class="mr-sm-3" for="ptPantsStride">Pants Stride(top edge front to top edge back, full
										saddle)</label>
									<input type="text" name="ptPantsStride[]" id="ptPantsStride" class="col-2 form-control">
									<label class="ml-sm-2"><strong>"</strong></label>
								</div>
							</div>
							<div class="col-lg-2 col-md-12 col-sm-12 mb-md-2 form-inline">
								<label class="form-check-label mt-2" for="ptHellSlit">
									<input type="checkbox" class="form-check-input" id="ptHellSlit" name="ptHellSlit[]" validation="" value="Back Heel Slit">Back Heel Slit
								</label>
							</div>
						</div>
					</div>
				</div>

				<div class="row mt-2 py-sm-3 border-bottom field-group">
					<label class="col-12 py-sm-1 mb-3 border-bottom">Fit preference specific to this item:</label>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="pantsTight">
								<input type="radio" name="pantsPreference" id="pantsTight" class="form-check-input" validation="validate-one-required-by-name" value="Body Conforming/Tight">Body Conforming/Tight
							</label>
						</div>
					</div>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="pantsContoured">
								<input type="radio" name="pantsPreference" id="pantsContoured" class="form-check-input" validation="validate-one-required-by-name" value="Nicely Contoured">Nicely Contoured
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="pantsRelaxed">
								<input type="radio" name="pantsPreference" id="pantsRelaxed" class="form-check-input" validation="validate-one-required-by-name" value="Relaxed">Relaxed
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="pantsLoose">
								<input type="radio" name="pantsPreference" id="pantsLoose" class="form-check-input" validation="validate-one-required-by-name" value="Quite Loose">Quite Loose
							</label>
						</div>
					</div>
				</div>
				<input type="hidden" name="pantsPreference[]" value="" />

				<div class="row pb-1 mt-5 my-2 border-bottom">
					<!-- old matched -->

					<div class="col-10 col-lg-10 col-md-11 form-inline">
						<div class="d-inline-block  col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label" for="pantsUnlined">
									<input type="radio" name="pantLine" id="pantsUnlined" class="form-check-input" validation="validate-one-required-by-name" value="Unlined">Unlined
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="pantsLined">
									<input type="radio" name="pantLine"  id="pantsLined" class="form-check-input" validation="validate-one-required-by-name" value="Lined">Lined
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="pantsPartial">
									<input type="radio" name="pantLine" id="pantsPartial" class="form-check-input" validation="validate-one-required-by-name" value="Partial*"> Partial*
								</label>
							</div>
						</div>
						<input type="hidden" name="pantLine[]" value="" />

						<div class="d-inline-block col-lg-6 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="col-form-label mx-sm-3" for="pantsExplain">*Explain if Partial</label>
								<input type="text" id="pantsExplain" class="form-control col-lg-8"
									name="pantLineExplain[]" disabled>
							</div>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-1 text-right">
						<label class="price-label text-right">Price ($)</label>
					</div>
				</div>

				<div class="row">
					<div class="col-12 col-lg-12 col-md-12 text-center text-md-left section-intro">
						<table class="table table-bordered pants-options-table" width="100%" cellspacing="1" cellpadding="1" border="1">
							<tr>
								<td width="20%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsStyle">Style</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 style-select"
												id="pantsStyle" name="pantsStyle[]" onchange="pantStyleSelected(this);" validation="validate-select">
											<option value="">--</option>
											<option value="EP-01-S Arliss" tStyle="Pant">EP-01-S Arliss</option>
											<option value="EP-02-S Chris" tStyle="Pant">EP-02-S Chris</option>
											<option value="EP-03-S Katniss" tStyle="Pant">EP-03-S Katniss</option>
											<option value="EP-04-S Casey" tStyle="Pant">EP-04-S Casey</option>
											<option value="EP-05-S Joss" tStyle="Pant">EP-05-S Joss</option>
											<option value="EP-06-S Seyma" tStyle="Pant">EP-06-S Seyma</option>
										</select>
									</div>
								</td>
								<td width="20%">
									<div class="form-inline">
										<label
												class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsBeltLoop">Front Pockets</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" id="pantsFrontPocket" name="pantsFrontPocket[]" validation="validate-select">
											<option value="--">--</option>
											<option value="None">None</option>
											<option value="LTP-1">LTP-1 On-Seam Side Pockets</option>
											<option value="LTP-2">LTP-2 One-Eighth Side Pockets</option>
											<option value="LTP-3">LTP-3 Cord Pockets</option>
										</select>
									</div>
								</td>
								<td width="30%">
									<div class="form-inline">
										<label
												class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsBeltLoop">Hip Pockets</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" id="pantsHipPocket" name="pantsHipPocket[]" validation="validate-select">
											<option value="--">--</option>
											<option value="None">None</option>
											<option value="LTP-4R Tab & Button Pocket (Right)">LTP-4R Tab & Button Pocket (Right)</option>
											<option value="LTP-4L Tab & Button  Pocket (Left)">LTP-4L Tab & Button  Pocket (Left)</option>
											<option value="LTP-4B Tab & Button Pockets (Both)">LTP-4B Tab & Button Pockets (Both)</option>
											<option value="LTP-5R Button Pocket (Right)">LTP-5R Button Pocket (Right)</option>
											<option value="LTP-5L Button Pocket (Left)">LTP-5L Button Pocket (Left)</option>
											<option value="LTP-5B Button Pockets (Both)">LTP-5B Button Pockets (Both)</option>
											<option value="LTP-6R Flap & Button Pocket (Right)">LTP-6R Flap & Button Pocket (Right)</option>
											<option value="LTP-6L Flap & Button Pocket (Left)">LTP-6L Flap & Button Pocket (Left)</option>
											<option value="LTP-6B Flap & Button Pockets (Both)">LTP-6B Flap & Button Pockets (Both)</option>
											<option value="LTP-7R Single Welt Pocket (Right)">LTP-7R Single Welt Pocket (Right)</option>
											<option value="LTP-7L Single Welt Pocket (Left)">LTP-7L Single Welt Pocket (Left)</option>
											<option value="LTP-7B Single Welt Pockets (Both)">LTP-7B Single Welt Pockets (Both)</option>
										</select>
									</div>
								</td>
								<td width="20%">
									<div class="form-inline">
										<label
												class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsBeltLoop">Belt Loops</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" id="pantsBeltLoop" name="pantsBeltLoop[]">
											<option value="--">--</option>
											<option value="None">None</option>
											<option value='LTW-1 Regular Loops 3/8"'>LTW-1 Regular Loops 3/8"</option>
											<option value='LTW-2 Tunnel Loops 1"'>LTW-2 Tunnel Loops 1"</option>
										</select>
									</div>
								</td>
								<td width="10%"></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Fabric Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 col-sm-12 mb-2 mb-sm-0 select-fabric" name="pantsFabricCode[]" onchange="calculateGroups();">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsFabricId">Fabric #</label>
										<input type="text" id="pantsFabricId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 fabric-id"
												name="pantsFabricId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsDescription">Fabric Description</label>
										<input type="text" id="pantsDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="pantsDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="form-check-label" for="pantsFabricStretch">
											<input type="checkbox" id="pantsFabricStretch" class="form-check-input"
												name="pantsStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Lining Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining validate-select" name="pantsLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsLiningId">Lining #</label>
										<input type="text" id="pantsLiningId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0"
												name="pantsLiningId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsLiningDescription">
											Lining Description</label>
										<input type="text" id="pantsLiningDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="pantsLiningDescription[]" placeholder="Description">
									</div>
								</td>
								<td>
									<div class="d-inline-block">
										<div class="form-inline form-check form-check-inline">
											<label class="form-check-label" for="pantsLiningStretch">
												<input type="checkbox" class="form-check-input" id="pantsLiningStretch"
													name="pantsLiningStretchBox[]" disabled>Stretch?
												<input type="hidden" name="pantsLiningStretch[]" value="No" />
											</label>
										</div>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Fabric Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="pantsAlternateCode[]">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsAlternateId">Alt. Fabric #</label>
										<input type="text" id="pantsAlternateId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="pantsAlternateId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsAlternateDescription">Alt. Fab. Description</label>
										<input type="text" id="pantsAlternateDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="pantsAlternateDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="form-check-label" for="pantsAltFabricStretch">
											<input type="checkbox" id="pantsAltFabricStretch" class="form-check-input"
												name="pantsAlternateStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>

							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Lining Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining" name="pantsAltLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsAltLiningId">Alt. Lining #</label>
										<input type="text" id="pantsAltLiningId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="pantsAltLiningId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="pantsAltLiningDescription">Alt. Description</label>
										<input type="text" id="pantsAltLiningDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="pantsAltLiningDescription[]" placeholder="Description">
									</div>
								</td>
								<td>
									<div class="d-inline-block">
										<div class="form-inline form-check form-check-inline">
											<label class="form-check-label" for="pantsAltLiningStretch">
												<input type="checkbox" class="form-check-input" id="pantsAltLiningStretch"
													name="pantsAltLiningStretchBox[]" disabled>Stretch?
												<input type="hidden" name="pantsAltLiningStretch[]" value="No" />
											</label>
										</div>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>
							<tr>
								<td class="text-md-center" colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="pantsSpecial">Specials</label>
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="form-check-label special-check" for="pantsSpecialSf">
											<input type="checkbox" name="pantsSpecialSf[]" id="pantsSpecialSf"
												class="form-check-input checkbox-special"
												value="Self-Fabric Belt w/Covered Buckle"
												onchange="calculateGroups();">Self-Fabric Belt w/Covered Buckle
										</label> <br/>
										<label class="form-check-label special-check" for="pantsSpecialTe">
											<input type="checkbox" name="pantsSpecialTe[]" id="pantsSpecialTe"
												class="form-check-input checkbox-special"
												value="Tuxedo Effect"
												onchange="calculateGroups();">Tuxedo Effect
										</label>
									</div>
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="pantsExtras">Extras</label>
										<input type="text" name="pantsExtrax[]" id="pantsExtras" class="form-control col-12"
											placeholder="Description">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 mr-3" for="pantsExtrasW">W($)</label>
										<input type="text" name="pantsExtrasW[]" id="pantsExtrasW" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 mr-3" for="pantsExtrasR">R($)</label>
										<input type="text" name="pantsExtrasR[]" id="pantsExtrasR" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td>
									<div class="form-inline section-price">
										$
									</div>
									<input type="hidden" name="sectionPrice[]" value="" />
								</td>
							</tr>
						</table>
					</div>
					<!--end of col-->
				</div>

				<div class="row">
					<div class="col-12">
						<div class="form-group mb-5">
							<label class="col-form-label">Design Details:</label>
							<textarea class="form-control form-control-plaintext border-primary" placeholder="* Describe special fit issues, trim and other details here." name="pantsDesignDetails[]" rows="5"></textarea>
						</div>
					</div>
				</div>
				<!--end of row-->
			</div>
			<!-- End of Pants -->

			<!-- content of Skirts -->
			<div id="skirt-options" class="skirt-options container mt-5" item-type="skirt">
				<div class="row mt-3 border-top border-primary justify-content-around no-print">
					<div class="col-12 pl-2">
						<button type="button" class="close" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				</div>

				<div class="row mt-2">
					<div class="col-12 col-lg-12 col-md-12 my-3">
						<div class="d-inline-block border-bottom px-2">
							<label class="font-weight-bold mr-3">Skirt : </label>
							<label class="skirt-id mr-5 matchId"></label>
						</div>

						<div class="d-inline-block">
							<div class="form-inline">
								<label class="mr-2" for="sMatched">Matched to </label>
								<input class="form-control" name="skirtMatched[]" id="sMatched" maxlength="3" onblur="return matchTo(this)">
							</div>
						</div>
					</div>
					<div class="col-7 col-lg-7 col-md-12 col-sm-12 my-3 jacket-length">
						<label class="font-weight-bold">Skirt Length</label>
						<div class="p-md-3 border border-dark skirt-length">
							<div class="row">
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block row">
										<div class="custom-radio form-inline d-inline-block">
											<input type="radio" name="skirtLevel" id="skirtBelowKnee" class="form-control" validation="validate-one-required-by-name" value='" below knee'>
											<input type="text" name="skirtLevelBelowKneeVal[]" id="skirtBelowKneeVal"
												class="form-control small col-2 px-1" disabled>
											<label class="col-form-label d-inline-block" for="skirtBelowKnee">" below knee</label>
										</div>
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="skirtAtKnee">
												<input type="radio" name="skirtLevel" id="skirtAtKnee" class="form-check-input" validation="validate-one-required-by-name" value="at knee">at knee
											</label>
										</div>
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block row">
										<div class="custom-radio form-inline d-inline-block">
											<input type="radio" name="skirtLevel" id="skirtAboveKnee"
												class="form-control" validation="validate-one-required-by-name" value='" above knee'>
											<input type="text" name="skirtLevelAboveKneeVal[]" id="skirtAboveKneeVal"
												class="form-control small col-2 px-1" disabled>
											<label class="col-form-label d-inline-block" for="skirtAboveKnee">" above knee</label>
										</div>
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="skirtOther">
												<input type="radio" name="skirtLevel" id="skirtOther" class="form-check-input" validation="validate-one-required-by-name" value="Other*">Other*
											</label>
										</div>
									</div>
								</div>
							</div>
							<input type="hidden" name="skirtLevel[]" value="" />
							<div class="row images my-3">
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline-block m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/skirt-length-below.png'); ?>">
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline-block m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/skirt-length-at.png'); ?>">
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline-block m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/skirt-length-above.png'); ?>">
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline-block m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/skirt-length-other.png'); ?>">
									</div>
								</div>
							</div>
							<div class="row explain-other">
								<div class="col-3 col-lg-3 col-md-3">
									<label class="col-form-label" for="skirtExplain">* Explain if Other</label>
								</div>
								<div class="col-9 col-lg-9 col-md-9">
									<input type="text" id="skirtLevelOtherExplain" class="form-control" name="skirtLevelOtherExplain[]" disabled>
								</div>
							</div>
						</div>
					</div>
					<div class="col-5 col-lg-5 col-md-12 col-sm-12 my-3">
						<label class="font-weight-bold">Skirt Shape</label>
						<div class="p-md-3 border border-dark skirt-shape text-center">
							<div class="row">
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="skirtShapePencil">
												<input type="radio" name="skirtShape" id="skirtShapePencil"
													class="form-check-input" validation="validate-one-required-by-name" value="Pencil">Pencil
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="skirtShapeStraight">
												<input type="radio" name="skirtShape" id="skirtShapeStraight"
													class="form-check-input" validation="validate-one-required-by-name" value="Straight">Straight
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="skirtShapeFlare">
												<input type="radio" name="skirtShape" id="skirtShapeFlare" class="form-check-input" validation="validate-one-required-by-name" value="A-Line">A-Line
											</label>
										</div>
									</div>
								</div>
							</div>
							<div class="row images my-3">
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<div class="align-items-center d-inline-block m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/skirt-shape-pencil.png'); ?>">
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<div class="align-items-center d-inline-block m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/skirt-shape-straight.png'); ?>">
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<div class="align-items-center d-inline-block m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/skirt-shape-flare.png'); ?>">
									</div>
								</div>
							</div>
							<div class="row p-2">
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block mt-1">
										<div class="form-inline">
											<label class="form-check-label" for="skirtShapeOther">
												<input type="radio" name="skirtShape" id="skirtShapeOther"
													class="form-check-input" validation="validate-one-required-by-name" value="Other*">
												Other*
											</label>
										</div>
									</div>
								</div>
								<div class="col-9 col-lg-9 col-md-9 m-0">
									<div class="d-inline-block">
										<div class="form-inline">
											<label class="pl-1 mr-sm-3" for="skirtShapeExplain"> * Explain if Other </label>
											<input type="text" name="skirtShapeExplain[]" id="skirtShapeExplain"
												class="form-control col-6" disabled>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<input type="hidden" name="skirtShape[]" value="" />

				<div class="row mt-2 py-sm-3 border-bottom field-group">
					<label class="col-12 py-sm-1 mb-3 border-bottom">Fit preference specific to this item:</label>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="skirtTight">
								<input type="radio" name="skirtPreference" id="skirtTight" class="form-check-input" validation="validate-one-required-by-name" value="Body Conforming/Tight">Body Conforming/Tight
							</label>
						</div>
					</div>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="skirtContoured">
								<input type="radio" name="skirtPreference" id="skirtContoured" class="form-check-input" validation="validate-one-required-by-name" value="Nicely Contoured">Nicely Contoured
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="skirtRelaxed">
								<input type="radio" name="skirtPreference" id="skirtRelaxed" class="form-check-input" validation="validate-one-required-by-name" value="Relaxed">Relaxed
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="skirtLoose">
								<input type="radio" name="skirtPreference" id="skirtLoose" class="form-check-input" validation="validate-one-required-by-name" value="Quite Loose">Quite Loose
							</label>
						</div>
					</div>
				</div>
				<input type="hidden" name="skirtPreference[]" value="" />

				<div class="row pb-1 mt-5 my-2 border-bottom">
					<!-- old matched -->

					<div class="col-10 col-lg-10 col-md-10 form-inline">
						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label" for="skirtUnlined">
									<input type="radio" name="skirtLine" id="skirtUnlined" class="form-check-input" value="Unlined">Unlined
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label" for="skirtLined">
									<input type="radio" name="skirtLine" id="skirtLined" class="form-check-input" value="Lightly Lined" checked="checked">Lightly Lined
								</label>
							</div>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-2 text-right">
						<label class="price-label text-right">Price ($)</label>
					</div>
				</div>
				<input type="hidden" name="skirtLine[]" value="" />

				<div class="row">
					<div class="col-12 col-lg-12 col-md-12 text-center text-md-left section-intro">
						<table class="table table-bordered pants-options-table" width="100%" cellspacing="1" cellpadding="1" border="1">
							<tr>
								<td width="20%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Style</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 style-select" id="skirtStyle" name="skirtStyle[]" onchange="skirtStyleSelected(this);" validation="validate-select">
											<option value="">--</option>
											<option value="ES-01-S Maeve" tStyle="Skirt">ES-01-S Maeve</option>
											<option value="ES-02-S Andi" tStyle="Skirt">ES-02-S Andi</option>
											<option value="ES-03-S Angela" tStyle="Skirt">ES-03-S Angela</option>
											<option value="ES-04-S Johanna" tStyle="Skirt">ES-04-S Johanna</option>
											<option value="ES-05-S Joni" tStyle="Skirt">ES-05-S Joni</option>
											<option value="ES-06-S Tori" tStyle="Skirt">ES-06-S Tori</option>
											<option value="ES-07-S Preeti" tStyle="Skirt">ES-07-S Preeti</option>
											<option value="ES-08-C Joy" tStyle="Skirt">ES-08-C Joy</option>
											<option value="ES-09-C Kayla" tStyle="Skirt">ES-09-C Kayla</option>
											<option value="ES-10-C Jennifer" tStyle="Skirt">ES-10-C Jennifer</option>
											<option value="ES-11-C Tiffany" tStyle="Skirt">ES-11-C Tiffany</option>
										</select>
									</div>
								</td>
								<td width="25%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtFrontPocket">Front
											Pockets</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0"
												id="skirtFrontPocket" name="skirtFrontPockets[]">
											<option value="">--</option>
											<!--<option value="ltp-4r">LTP-4R Tab & Button Pocket (Right)</option>
											<option value="ltp-4l">LTP-4L Tab & Button  Pocket (Left)</option>
											<option value="ltp-4b">LTP-4B Tab & Button Pockets (Both)</option>
											<option value="ltp-5r">LTP-5R Button Pocket (Right)</option>
											<option value="ltp-5l">LTP-5L Button Pocket (Left)</option>
											<option value="ltp-5b">LTP-5B Button Pockets (Both)</option>
											<option value="ltp-5r">LTP-6R Flap & Button Pocket (Right)</option>
											<option value="ltp-6l">LTP-6L Flap & Button Pocket (Left)</option>
											<option value="ltp-6b">LTP-6B Flap & Button Pockets (Both)</option>
											<option value="ltp-7r">LTP-7R Single Welt Pocket (Right)</option>
											<option value="ltp-7l">LTP-7L Single Welt Pocket (Left)</option>
											<option value="ltp-7b">LTP-7B Single Welt Pockets (Both)</option>-->
										</select>
									</div>
								</td>
								<td width="25%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtBackPocket">Hip Pockets</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" id="skirtBackPocket" name="skirtBackPockets[]" validation="validate-select">
											<option value="--">--</option>
											<option value="None">None</option>
											<option value="LTP-4R Tab & Button Pocket (Right)">LTP-4R Tab & Button Pocket (Right)</option>
											<option value="LTP-4L Tab & Button  Pocket (Left)">LTP-4L Tab & Button  Pocket (Left)</option>
											<option value="LTP-4B Tab & Button Pockets (Both)">LTP-4B Tab & Button Pockets (Both)</option>
											<option value="LTP-5R Button Pocket (Right)">LTP-5R Button Pocket (Right)</option>
											<option value="LTP-5L Button Pocket (Left)">LTP-5L Button Pocket (Left)</option>
											<option value="LTP-5B Button Pockets (Both)">LTP-5B Button Pockets (Both)</option>
											<option value="LTP-6R Flap & Button Pocket (Right)">LTP-6R Flap & Button Pocket (Right)</option>
											<option value="LTP-6L Flap & Button Pocket (Left)">LTP-6L Flap & Button Pocket (Left)</option>
											<option value="LTP-6B Flap & Button Pockets (Both)">LTP-6B Flap & Button Pockets (Both)</option>
											<option value="LTP-7R Single Welt Pocket (Right)">LTP-7R Single Welt Pocket (Right)</option>
											<option value="LTP-7L Single Welt Pocket (Left)">LTP-7L Single Welt Pocket (Left)</option>
											<option value="LTP-7B Single Welt Pockets (Both)">LTP-7B Single Welt Pockets (Both)</option>
										</select>
									</div>
								</td>
								<td width="20%"></td>
								<td width="10%"></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Fabric Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-fabric"
												name="skirtFabricCode[]" onchange="calculateGroups();">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtFabricId">Fabric #</label>
										<input type="text" id="skirtFabricId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 fabric-id" name="skirtFabricId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtDescription">
											Fabric Description</label>
										<input type="text" id="skirtDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="skirtDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="form-check-label" for="skirtStretchFabric">
											<input type="checkbox" id="skirtStretchFabric" class="form-check-input"
												name="skirtStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Lining Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining" name="skirtLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtLiningId">Lining #</label>
										<input type="text" id="skirtLiningId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="skirtLiningId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtLiningDescription">Lining Description</label>
										<input type="text" id="skirtLiningDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12" name="skirtLiningDescription[]"
											placeholder="Description">
									</div>
								</td>
								<td>
									<div class="d-inline-block">
										<div class="form-inline form-check form-check-inline">
											<label class="form-check-label" for="skirtLiningStretch">
												<input type="checkbox" class="form-check-input" id="skirtLiningStretch"
													name="skirtLiningStretchBox[]" disabled>Stretch?
												<input type="hidden" name="skirtLiningStretch[]" value="No"/>
											</label>
										</div>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Fabric Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="skirtAlternateCode[]">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtAlternateId">Alt. Fabric #</label>
										<input type="text" id="skirtAlternateId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="skirtAlternateId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center"
											for="skirtAlternateDescription">Alt. Fab. Description</label>
										<input type="text" id="skirtAlternateDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="skirtAlternateDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="form-check-label" for="skirtAlternateStretchFabric">
											<input type="checkbox" id="skirtAlternateStretchFabric" class="form-check-input"
												name="skirtAlternateStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Lining Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining" name="skirtAltLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="skirtAltLiningId">Alt. Lining #</label>
										<input type="text" id="skirtAltLiningId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="skirtAltLiningId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center"
											for="skirtAltLiningDescription">Alt. Lining Description</label>
										<input type="text" id="skirtAltLiningDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="skirtAltLiningDescription[]" placeholder="Description">
									</div>
								</td>
								<td>
									<div class="d-inline-block">
										<div class="form-inline form-check form-check-inline">
											<label class="form-check-label" for="skirtAltLiningStretch">
												<input type="checkbox" class="form-check-input" id="skirtAltLiningStretch"
													name="skirtAltLiningStretchBox[]" disabled>Stretch?
												<input type="hidden" name="skirtAltLiningStretch[]" value="No" />
											</label>
										</div>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>
							<tr>
								<td class="text-md-center" colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="skirtSpecial">Specials</label>
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="form-check-label special-check" for="skirtSpecialSf">
											<input type="checkbox" name="skirtSpecialSf[]" id="skirtSpecialSf"
												class="form-check-input checkbox-special"
												value="Self-Fabric Belt w/Covered Buckle"
												onchange="calculateGroups();">Self-Fabric Belt w/Covered Buckle
										</label> <br/>
										<label class="form-check-label special-check" for="skirtSpecialTe">
											<input type="checkbox" name="skirtSpecialTe[]" id="skirtSpecialTe"
												class="form-check-input checkbox-special"
												value="Tuxedo Effect"
												onchange="calculateGroups();">Tuxedo Effect
										</label>
									</div>
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="skirtExtras">Extras</label>
										<input type="text" name="skirtExtrax[]" id="skirtExtras" class="form-control col-12"
											placeholder="Description">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 mr-3" for="skirtExtrasW">W($)</label>
										<input type="text" name="skirtExtrasW[]" id="skirtExtrasW" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 mr-3" for="skirtExtrasR">R($)</label>
										<input type="text" name="skirtExtrasR[]" id="skirtExtrasR" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td>
									<div class="form-inline section-price">
										$
									</div>
									<input type="hidden" name="sectionPrice[]" value="" />
								</td>
							</tr>
						</table>
					</div>
					<!--end of col-->
				</div>

				<div class="row">
					<div class="col-12">
						<div class="form-group mb-5">
							<label class="col-form-label">Design Details:</label>
							<textarea class="form-control form-control-plaintext border-primary" placeholder="* Describe special fit issues, trim and other details here." name="skirtDesignDetails[]" rows="5"></textarea>
						</div>
					</div>
				</div>
				<!--end of row-->
			</div>
			<!-- End of Skirts -->

			<!-- content of Dress -->
			<div id="dress-options" class="dress-options container mt-5" item-type="dress">
				<div class="row mt-3 border-top border-primary justify-content-around no-print">
					<div class="col-12 pl-2">
						<button type="button" class="close" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
				</div>

				<div class="row mt-2">
					<div class="col-12 col-lg-12 col-md-12 my-3">
						<div class="d-inline-block border-bottom px-2">
							<label class="font-weight-bold mr-3">Dress : </label>
							<label class="dress-id mr-5 matchId"></label>
						</div>

						<div class="d-inline-block">
							<div class="form-inline">
								<label class="mr-2" for="dMatched">Matched to </label>
								<input class="form-control" name="dressMatched[]" id="dMatched" maxlength="3" onblur="return matchTo(this)">
							</div>
						</div>
					</div>
					<div class="col-7 col-lg-7 col-md-12 col-sm-12 my-3">
						<label class="font-weight-bold">Dress Length</label>
						<div class="p-md-3 border border-dark dress-length">
							<div class="row">
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block row">
										<div class="custom-radio form-inline d-inline-block">
											<input type="radio" name="dressLength" id="dressBelowKnee"
												class="form-control" validation="validate-one-required-by-name" value='" below knee'>
											<input type="text" name="dressLengthBelowKneeVal[]" id="dressBelowKneeVal"
												class="form-control small col-2" style="padding-left: 4px; padding-right: 4px;" disabled>
											<label class="col-form-label d-inline-block" for="dressBelowKnee">" below knee</label>
										</div>
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="dressAtKnee">
												<input type="radio" name="dressLength" id="dressAtKnee" class="form-check-input" validation="validate-one-required-by-name" value="at knee">at
												knee
											</label>
										</div>
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block row">
										<div class="custom-radio form-inline d-inline-block">
											<input type="radio" name="dressLength" id="dressAboveKnee" class="form-control" validation="validate-one-required-by-name" value='" above knee'>
											<input type="text" name="dressLengthAboveKneeVal[]" id="dressAboveKneeVal"
												class="form-control small col-2" style="padding-left: 4px; padding-right: 4px;" disabled>
											<label class="col-form-label d-inline-block" for="dressAboveKnee">" above knee</label>
										</div>
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="dressOther">
												<input type="radio" name="dressLength" id="dressOther" class="form-check-input" validation="validate-one-required-by-name" value="Other*">Other*
											</label>
										</div>
									</div>
								</div>
							</div>
							<input type="hidden" name="dressLength[]" value="" />
							<div class="row images my-3">
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/dress-length-below1.png'); ?>">
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/dress-length-at1.png'); ?>">
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/dress-length-above1.png'); ?>">
									</div>
								</div>
								<div class="col-3 col-lg-3 col-md-3 text-center">
									<div class="align-items-center d-inline m-auto">
										<img src="<?php echo $this->getSkinUrl('edform/imgs/dress-length-other1.png'); ?>">
									</div>
								</div>
							</div>
							<div class="row explain-other">
								<div class="col-3 col-lg-3 col-md-3">
									<label class="col-form-label">* Explain if Other</label>
								</div>
								<div class="col-9 col-lg-9 col-md-9">
									<input type="text" class="form-control" name="dressLengthOtherExplain[]" disabled>
								</div>
							</div>
						</div>
					</div>
					<div class="col-5 col-lg-5 col-md-12 col-sm-12 my-3">
						<label class="font-weight-bold">Dress Shape</label>
						<div class="p-md-3 border border-dark dress-shape">
							<div class="row">
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="dressShapePencil">
												<input type="radio" name="dressShape" id="dressShapePencil"
													class="form-check-input" validation="validate-one-required-by-name" value="Pencil">Pencil
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="dressShapeStraight">
												<input type="radio" name="dressShape" id="dressShapeStraight"
													class="form-check-input" validation="validate-one-required-by-name" value="Straight">Straight
											</label>
										</div>
									</div>
								</div>
								<div class="col-4 col-lg-4 col-md-4 m-0 text-center">
									<div class="d-inline-block mt-2">
										<div class="form-inline">
											<label class="form-check-label" for="dressShapeFlare">
												<input type="radio" name="dressShape" id="dressShapeFlare"
													class="form-check-input" validation="validate-one-required-by-name" value="A-Line">A-Line
											</label>
										</div>
									</div>
								</div>
							</div>
							<div class="row images my-4">
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<img src="<?php echo $this->getSkinUrl('edform/imgs/dress-shape-pencil1.png'); ?>">
								</div>
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<img src="<?php echo $this->getSkinUrl('edform/imgs/dress-shape-straight1.png'); ?>">
								</div>
								<div class="col-4 col-lg-4 col-md-4 text-center">
									<img src="<?php echo $this->getSkinUrl('edform/imgs/dress-shape-flare1.png'); ?>">
								</div>
							</div>
							<div class="row p-2">
								<div class="col-3 col-lg-3 col-md-3 m-0 text-center">
									<div class="d-inline-block mt-1">
										<div class="form-inline">
											<label class="form-check-label" for="dressShapeOther">
												<input type="radio" name="dressShape" id="dressShapeOther"
													class="form-check-input" validation="validate-one-required-by-name" value="Other*">
												Other*
											</label>
										</div>
									</div>
								</div>
								<div class="col-9 col-lg-9 col-md-9 m-0">
									<div class="d-inline-block">
										<div class="form-inline">
											<label class="pl-1 mr-sm-3" for="dressShapeExplain"> * Explain if Other </label>
											<input type="text" name="dressShapeExplain[]" id="dressShapeExplain"
												class="form-control col-6" disabled>
										</div>
									</div>
								</div>
							</div>
							<input type="hidden" name="dressShape[]" value="" />
						</div>
					</div>
				</div>

				<div class="row mt-2 py-sm-3 border-bottom field-group">
					<label class="col-12 py-sm-1 mb-3 border-bottom">Fit preference specific to this item:</label>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="dressTight">
								<input type="radio" name="dressPreference" id="dressTight" class="form-check-input" validation="validate-one-required-by-name" value="Body Conforming/Tight">Body Conforming/Tight
							</label>
						</div>
					</div>
					<div class="col-3 col-lg-3 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="dressContoured">
								<input type="radio" name="dressPreference" id="dressContoured" class="form-check-input" validation="validate-one-required-by-name" value="Nicely Contoured">Nicely Contoured
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="dressRelaxed">
								<input type="radio" name="dressPreference" id="dressRelaxed" class="form-check-input" validation="validate-one-required-by-name" value="Relaxed">Relaxed
							</label>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-4 col-sm-6 my-2">
						<div class="form-inline">
							<label class="form-check-label" for="dressLoose">
								<input type="radio" name="dressPreference" id="dressLoose" class="form-check-input" validation="validate-one-required-by-name" value="Quite Loose">Quite Loose
							</label>
						</div>
					</div>
				</div>
				<input type="hidden" name="dressPreference[]" value="" />

				<div class="row pb-1 mt-5 my-2 border-bottom">
					<!-- old matched -->

					<div class="col-10 col-lg-10 col-md-11 form-inline">
						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="dressUnlined">
									<input type="radio" name="dressLine" id="dressUnlined" class="form-check-input" value="Unlined">Unlined
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="dressLined">
									<input type="radio" name="dressLine"  id="dressLined" class="form-check-input" value="Lined" checked="checked">Lined
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-2 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="form-check-label pl-md-1" for="dressPartial">
									<input type="radio" name="dressLine" id="dressPartial" class="form-check-input" value="Partial*" disabled>Partial*
								</label>
							</div>
						</div>

						<div class="d-inline-block col-lg-6 col-md-auto px-md-1">
							<div class="form-inline">
								<label class="col-form-label mx-sm-3" for="dressExplain">*Explain if Partial</label>
								<input type="text" id="dressExplain" class="form-control col-lg-8"
									name="dressExplain[]" disabled>
							</div>
						</div>
					</div>
					<div class="col-2 col-lg-2 col-md-1 text-right">
						<label class="price-label text-right">Price ($)</label>
					</div>
				</div>
				<input type="hidden" name="dressLine[]" value="" />

				<div class="row">
					<div class="col-12 col-lg-12 col-md-12 text-center text-md-left section-intro">
						<table class="table table-bordered pants-options-table" width="100%" cellspacing="1" cellpadding="1" border="1">
							<tr>
								<td width="20%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Style</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 float-right style-select" id="dressStyle"
												name="dressStyle[]" onchange="dressStyleSelected(this);" validation="validate-select">
											<option value="">--</option>
											<option value="ED-01-S Catherine" tStyle="Dress">ED-01-S Catherine</option>
											<option value="ED-02-S AnneMarie" tStyle="Dress">ED-02-S AnneMarie</option>
											<option value="ED-03-S Margueritte" tStyle="Dress">ED-03-S Margueritte</option>
											<option value="ED-04-C Aslaug" tStyle="Dress">ED-04-C Aslaug</option>
											<option value="ED-05-S Anke" tStyle="Dress">ED-05-S Anke</option>
											<option value="ED-06-S Annalisa" tStyle="Dress">ED-06-S Annalisa</option>
											<option value="ED-07-S Natalie" tStyle="Dress">ED-07-S Natalie</option>
											<option value="ED-08-S Rebecca" tStyle="Dress">ED-08-S Rebecca</option>
											<option value="ED-09-S Dana" tStyle="Dress">ED-09-S Dana</option>
											<option value="ED-10-S Noelle" tStyle="Dress">ED-10-S Noelle</option>
										</select>
									</div>
								</td>
								<td width="25%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Sleeves</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" id="dressSleeves" name="dressSleeves[]">
											<option value="">--</option>
											<option value="EDS-1 Sleeveless">EDS-1 Sleeveless</option>
											<option value="EDS-2 Cap">EDS-2 Cap</option>
											<option value="EDS-3 Short">EDS-3 Short</option>
											<option value="EDS-4 Half">EDS-4 Half</option>
											<option value="EDS-5 Three Quarter">EDS-5 Three Quarter</option>
											<option value="EDS-6 Full">EDS-6 Full</option>
										</select>
									</div>
								</td>
								<td width="25%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Neckline</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" id="dressNeckline" name="dressNeckline[]">
											<option value="">--</option>
											<option value="EDN-1 Jewel">EDN-1 Jewel</option>
											<option value="EDN-2 Round">EDN-2 Round</option>
											<option value="EDN-3 Boat">EDN-3 Boat</option>
											<option value="EDN-4 Vee">EDN-4 Vee</option>
											<option value="EDN-5 Curved Vee">EDN-5 Curved Vee</option>
											<option value="EDN-6 Notched">EDN-6 Notched</option>
											<option value="EDN-7 Square">EDN-7 Square</option>
										</select>
									</div>
								</td>
								<td width="20%">
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Pockets</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" id="dressPocket" name="dressPocket[]">
											<option value="">--</option>
											<option value="None">None</option>
											<option value="EDP-1 On-seam">EDP-1 On-seam</option>
											<option value="EDP-2 1/8 Side">EDP-2 1/8 Side</option>
										</select>
									</div>
								</td>
								<td width="10%"></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Fabric Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-fabric"
												name="dressFabricCode[]" onchange="calculateGroups();">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressFabricId">Fabric #</label>
										<input type="text" id="dressFabricId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 fabric-id"
											name="dressFabricId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressDescription">Fabric Description</label>
										<input type="text" id="dressDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="dressDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="form-check-label" for="dressStretchFabric">
											<input type="checkbox" id="dressStretchFabric" class="form-check-input"
												name="dressStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Lining Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining validate-select" name="dressLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressLiningId">Lining
											#</label>
										<input type="text" id="dressLiningId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0"
											name="dressLiningId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressLiningDescription">Lining Description</label>
										<input type="text" id="dressLiningDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="dressLiningDescription[]" placeholder="Description">
									</div>
								</td>
								<td>
									<div class="d-inline-block">
										<div class="form-inline form-check form-check-inline">
											<label class="form-check-label" for="dressLiningStretch">
												<input type="checkbox" class="form-check-input" id="dressLiningStretch"
													name="dressLiningStretchBox[]" disabled>Stretch?
												<input type="hidden" name="dressLiningStretch[]" value="No" />
											</label>
										</div>
									</div>
								</td>
								<td></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Fabric Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0"
												name="dressAlternateCode[]">
											<option value="">--</option>
											<?php
										foreach (range('A', 'Z') as $char) { // A to Z
											?>
												<option value="<?php echo $char; ?>"><?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // AA to ZZ
											?>
												<option value="<?php echo $char . $char; ?>"><?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // 1A to 20A
											?>
												<option value="<?php echo $char; ?>A"><?php echo $char; ?>A</option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GA to GZ
											?>
												<option value="G<?php echo $char; ?>">G<?php echo $char; ?></option>
												<?php

										}
										foreach (range('A', 'Z') as $char) { // GAA to GZZ
											?>
												<option value="G<?php echo $char . $char; ?>">G<?php echo $char . $char; ?></option>
												<?php

										}
										foreach (range('1', '20') as $char) { // G1A to G20A
											?>
												<option value="G<?php echo $char; ?>A">G<?php echo $char; ?>A</option>
												<?php

										}
										?>
											<option value="cmt">CMT</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressAlternateId">Alt. Fabric #</label>
										<input type="text" id="dressAlternateId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0" name="dressAlternateId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressAlternateDescription">Alt. Fab. Description</label>
										<input type="text" id="dressAlternateDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="dressAlternateDescription[]" placeholder="Descripton">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="form-check-label" for="dressAlternateStretchFabric">
											<input type="checkbox" id="dressAlternateStretchFabric" class="form-check-input"
												name="dressAlternateStretchFabric[]" onchange="checkLiningStretchMatch(this, false)">Stretch?
										</label>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>
							<tr>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center">Alt. Lining Code</label>
										<select class="custom-select col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0 select-lining validate-select"
												name="dressAltLiningCode[]" onchange="calculateLiningStretch(this);">
											<option value="">--</option>
											<option value="Silk">Silk</option>
											<option value="Stretch">Stretch</option>
											<option value="Basic">Basic</option>
											<option value="ST 5700">ST 5700</option>
											<option value="SS7000">SS7000</option>
										</select>
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressAltLiningId">Alt. Lining #</label>
										<input type="text" id="dressAltLiningId"
											class="form-control col-12 col-lg-12 col-md-12 col-sm-12 mb-2 mb-sm-0"
											name="dressAltLiningId[]">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 col-lg-12 col-md-12 col-sm-12 justify-content-start justify-content-md-center" for="dressAltLiningDescription">Alt. Lining Description</label>
										<input type="text" id="dressAltLiningDescription" class="form-control col-12 col-lg-12 col-md-12 col-sm-12"
											name="dressAltLiningDescription[]" placeholder="Description">
									</div>
								</td>
								<td>
									<div class="d-inline-block">
										<div class="form-inline form-check form-check-inline">
											<label class="form-check-label" for="dressAltLiningStretch">
												<input type="checkbox" class="form-check-input" id="dressAltLiningStretch"
													name="dressAltLiningStretchBox[]" disabled>Stretch?
												<input type="hidden" name="dressAltLiningStretch[]" value="No" />
											</label>
										</div>
									</div>
								</td>
								<td class="alt-price"></td>
							</tr>
							<tr>
								<td class="text-md-center" colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="dressSpecial">Specials</label>
									</div>
								</td>
								<td colspan="2" class="text-md-center">
									<div class="form-inline">
										<label class="form-check-label special-check" for="dressSpecialSf">
											<input type="checkbox" name="dressSpecialSf[]" id="dressSpecialSf"
												class="form-check-input checkbox-special"
												value="Self-Fabric Belt w/Covered Buckle"
												onchange="calculateGroups();">Self-Fabric Belt w/Covered Buckle
										</label> <br/>
										<label class="form-check-label special-check" for="dressSpecialTe">
											<input type="checkbox" name="dressSpecialTe[]" id="dressSpecialTe"
												class="form-check-input checkbox-special"
												value="Tuxedo Effect"
												onchange="calculateGroups();">Tuxedo Effect
										</label>
									</div>
								</td>
								<td>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<div class="form-inline">
										<label class="col-12 mr-3" for="dressExtras">Extras</label>
										<input type="text" name="dressExtrax[]" id="dressExtras" class="form-control col-12"
											placeholder="Description">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 mr-3" for="dressExtrasW">W($)</label>
										<input type="text" name="dressExtrasW[]" id="dressExtrasW" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td>
									<div class="form-inline">
										<label class="col-12 mr-3" for="dressExtrasR">R($)</label>
										<input type="text" name="dressExtrasR[]" id="dressExtrasR" validation="validate-number"
											class="form-control col-12" onblur="addExtras(this)"
											maxlength="5">
									</div>
								</td>
								<td>
									<div class="form-inline section-price">
										$
									</div>
									<input type="hidden" name="sectionPrice[]" value="" />
								</td>
							</tr>
						</table>
					</div>
					<!--end of col-->
				</div>

				<div class="row">
					<div class="col-12">
						<div class="form-group mb-5">
							<label class="col-form-label">Design Details:</label>
							<textarea class="form-control form-control-plaintext border-primary" placeholder="* Describe special fit issues, trim and other details here." name="dressDesignDetails[]" rows="5"></textarea>
						</div>
					</div>
				</div>
				<!--end of row-->
			</div>
			<!-- End of Dress -->
		</section>
		<!--end of section-->


<div id="myModal" class="modal fade" role="dialog" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header no-print">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body">
                <p>Loading..</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<script type="text/javascript">
    //< ![CDATA[
        <?php
							if ('preview' != $mageAction || $isAdminArea) {
								?>
        var isSubmitButtonPress = false;
        var customForm = new VarienForm('edOrderForm', true);
		Validation.add('validate-one-required-by-name', 'Please select one of the options.', function (v,elm) {
				if (jQuery(elm).closest(".field-group").length) {
					var inputs = jQuery(elm).closest('.field-group').find('input[name="' + jQuery(elm).attr('name').replace(/([\\"])/g, '\\$1') + '"]');
				} else { 
					var inputs = $$('input[name="' + elm.name.replace(/([\\"])/g, '\\$1') + '"]');
				}

				var error = 1;
				for(var i=0;i<inputs.length;i++) {
					if((inputs[i].type == 'checkbox' || inputs[i].type == 'radio') && inputs[i].checked == true) {
						error = 0;
					}

					if(Validation.isOnChange && (inputs[i].type == 'checkbox' || inputs[i].type == 'radio')) {
						Validation.reset(inputs[i]);
					}
				}

				if( error == 0 ) {
					return true;
				} else {
					return false;
				}
			}
		);

		<?php

}
?>

	<?php


$pricing = array(
	'system' => array(
		'moduleBaseUrl' => $helper->getModuleBaseUrl(),
		'physicalAddress' => $user['physical_address'],
		'retailMarkup' => $user['retail_markup']
	),
	'tax' => array(
		'title' => $taxTitle,
		'percent' => $taxPercent,
	),
	'specials' => array(
		'jacket' => array(
			'Self-Fabric Belt w/Covered Buckle' => 20,
			'Tuxedo Effect' => 25,
		),
		'pants' => array(
			'Self-Fabric Belt w/Covered Buckle' => 20,
			'Tuxedo Effect' => 25,
		),
		'skirt' => array(
			'Self-Fabric Belt w/Covered Buckle' => 20,
			'Tuxedo Effect' => 25,
		),
		'dress' => array(
			'Self-Fabric Belt w/Covered Buckle' => 20,
			'Tuxedo Effect' => 25,
		),
	),
	'fabricPricing' => array(
		'A' => 8.75,
		'B' => 12.25,
		'C' => 16.45,
		'D' => 18.90,
		'E' => 22.05,
		'F' => 25.73,
		'G' => 29.23,
		'H' => 32.90,
		'I' => 36.40,
		'J' => 39.90,
		'K' => 43.40,
		'L' => 46.90,
		'M' => 50.40,
		'N' => 53.20,
		'O' => 57.40,
		'P' => 60.90,
		'Q' => 64.40,
		'R' => 67.90,
		'S' => 71.40,
		'T' => 74.90,
		'U' => 78.40,
		'V' => 81.90,
		'W' => 84.70,
		'X' => 88.90,
		'Y' => 92.40,
		'Z' => 95.90,
		'AA' => 99.40,
		'BB' => 102.90,
		'CC' => 106.40,
		'DD' => 109.90,
		'EE' => 113.40,
		'FF' => 116.90,
		'GG' => 120.40,
		'HH' => 123.90,
		'II' => 127.40,
		'JJ' => 130.90,
		'KK' => 134.40,
		'LL' => 137.90,
		'MM' => 141.40,
		'NN' => 144.90,
		'OO' => 148.40,
		'PP' => 151.90,
		'QQ' => 155.40,
		'RR' => 158.90,
		'SS' => 162.40,
		'TT' => 165.90,
		'UU' => 169.40,
		'VV' => 172.90,
		'WW' => 176.40,
		'XX' => 179.90,
		'YY' => 183.40,
		'ZZ' => 186.90,
		'1A' => 190.40,
		'2A' => 190.40,
		'3A' => 197.40,
		'4A' => 200.90,
		'5A' => 204.40,
		'6A' => 207.90,
		'7A' => 211.40,
		'8A' => 214.90,
		'9A' => 218.40,
		'10A' => 221.90,
		'11A' => 225.40,
		'12A' => 228.90,
		'13A' => 232.40,
		'14A' => 235.90,
		'15A' => 239.40,
		'16A' => 242.90,
		'17A' => 246.40,
		'18A' => 249.90,
		'19A' => 253.40,
		'20A' => 256.90,
		'GA' => 12.00,
		'GB' => 16.80,
		'GC' => 22.56,
		'GD' => 25.92,
		'GE' => 30.24,
		'GF' => 35.28,
		'GG' => 40.08,
		'GH' => 45.12,
		'GI' => 49.92,
		'GJ' => 54.72,
		'GK' => 59.52,
		'GL' => 960.00,
		'GM' => 960.00,
		'GN' => 960.00,
		'GO' => 960.00,
		'GP' => 960.00,
		'GQ' => 960.00,
		'GR' => 960.00,
		'GS' => 960.00,
		'GT' => 960.00,
		'GU' => 960.00,
		'GV' => 960.00,
		'GW' => 960.00,
		'GX' => 960.00,
		'GY' => 960.00,
		'GZ' => 1270.23,
		'GAA' => 0,
		'GBB' => 0,
		'GCC' => 0,
		'GDD' => 0,
		'GEE' => 0,
		'GFF' => 0,
		'GGG' => 0,
		'GHH' => 0,
		'GII' => 0,
		'GJJ' => 0,
		'GKK' => 0,
		'GLL' => 0,
		'GMM' => 0,
		'GNN' => 0,
		'GOO' => 0,
		'GPP' => 0,
		'GQQ' => 0,
		'GRR' => 0,
		'GSS' => 0,
		'GTT' => 0,
		'GUU' => 0,
		'GVV' => 0,
		'GWW' => 0,
		'GXX' => 0,
		'GYY' => 0,
		'GZZ' => 0,
		'G1A' => 0,
		'G2A' => 0,
		'G3A' => 0,
		'G4A' => 0,
		'G5A' => 0,
		'G6A' => 0,
		'G7A' => 0,
		'G8A' => 0,
		'G9A' => 0,
		'G10A' => 0,
		'G11A' => 0,
		'G12A' => 0,
		'G13A' => 0,
		'G14A' => 0,
		'G15A' => 0,
		'G16A' => 0,
		'G17A' => 0,
		'G18A' => 0,
		'G19A' => 0,
		'G20A' => 0,
	),
	'standard' => array(
		'additionalCosts' => array(
			'eD VA rate' => 26.5,
			'Pressing' => 6,
			'Hanger' => 3,
			'Garment bag' => 2.5,
			'Shipping box' => 3,
			'retailMarkup' => 2.3,
			'domesticShip' => 11.5,
			'embroidered' => 3,
			'alteration' => 30,
			'freight' => 0.22,
			'duty' => 0.15,
		),
		'discount' => array(
			2 => 5,
			3 => 6.5,
			4 => 8,
		),
		'make' => array(
			'2pc SB Suit' => array(
				'FABConsump' => 3.5,
				'VAHrs' => 3.00,
				'CM' => 178.50,
				'freight' => 40.00,
			),
			'2pc DB Suit' => array(
				'FABConsump' => 3.75,
				'VAHrs' => 3.00,
				'CM' => 185.30,
				'freight' => 42.00,
			),
			'3pc SB Suit' => array(
				'FABConsump' => 4.5,
				'VAHrs' => 4.25,
				'CM' => 232.90,
				'freight' => 54.00,
			),
			'Dress' => array(
				'FABConsump' => 2.5,
				'VAHrs' => 2.00,
				'CM' => 102.85,
				'freight' => 20.00,
			),
			'SB/ Jacket' => array(
				'FABConsump' => 2,
				'VAHrs' => 1.5,
				'CM' => 124.10,
				'freight' => 28.00,
			),
			'DB/ Jacket' => array(
				'FABConsump' => 2.5,
				'VAHrs' => 1.5,
				'CM' => 130.90,
				'freight' => 30.00,
			),
			'Blouse' => array(
				'FABConsump' => 2.25,
				'VAHrs' => 1.5,
				'CM' => 62.90,
				'freight' => 12.00,
			),
			'Vest' => array(
				'FABConsump' => 1,
				'VAHrs' => 1,
				'CM' => 62.90,
				'freight' => 12.00,
			),
			'Overcoat' => array(
				'FABConsump' => 3,
				'VAHrs' => 1.5,
				'CM' => 153,
				'freight' => 50.00,
			),
			'Skirt' => array(
				'FABConsump' => 1,
				'VAHrs' => 1.25,
				'CM' => 54.40,
				'freight' => 12.00,
			),
			'Pant' => array(
				'FABConsump' => 1.9,
				'VAHrs' => 1.5,
				'CM' => 54.40,
				'freight' => 14.00,
			),
		),
	),
	'complex' => array(
		'additionalCosts' => array(
			'eD VA rate' => 26.5,
			'Pressing' => 6,
			'Hanger' => 3,
			'Garment bag' => 2.5,
			'Shipping box' => 3,
			'retailMarkup' => 2.3,
			'domesticShip' => 11.5,
			'embroidered' => 3,
			'alteration' => 30,
			'freight' => 0.1975,
			'duty' => 0.15,
		),
		'discount' => array(
			2 => 4.5,
			3 => 5.5,
			4 => 7,
		),
		'make' => array(
			'2pc SB Suit' => array(
				'FABConsump' => 3.5,
				'VAHrs' => 3,
				'CM' => 237.15,
				'freight' => 40.00,
			),
			'2pc DB Suit' => array(
				'FABConsump' => 3.75,
				'VAHrs' => 3,
				'CM' => 242.25,
				'freight' => 42.00,
			),
			'3pc SB Suit' => array(
				'FABConsump' => 4.5,
				'VAHrs' => 4.25,
				'CM' => 309.40,
				'freight' => 54.00,
			),
			'Dress' => array(
				'FABConsump' => 2.5,
				'VAHrs' => 2,
				'CM' => 119.85,
				'freight' => 20.00,
			),
			'SB/ Jacket' => array(
				'FABConsump' => 2,
				'VAHrs' => 1.5,
				'CM' => 168.30,
				'freight' => 28.00,
			),
			'DB/ Jacket' => array(
				'FABConsump' => 2.5,
				'VAHrs' => 1.5,
				'CM' => 173.40,
				'freight' => 30.00,
			),
			'Blouse' => array(
				'FABConsump' => 2.25,
				'VAHrs' => 1.5,
				'CM' => 72.25,
				'freight' => 12.00,
			),
			'Vest' => array(
				'FABConsump' => 1,
				'VAHrs' => 1,
				'CM' => 72.25,
				'freight' => 12.00,
			),
			'Overcoat' => array(
				'FABConsump' => 3,
				'VAHrs' => 1.5,
				'CM' => 206.55,
				'freight' => 50.00,
			),
			'Skirt' => array(
				'FABConsump' => 1,
				'VAHrs' => 1.25,
				'CM' => 68.85,
				'freight' => 12.00,
			),
			'Pant' => array(
				'FABConsump' => 1.9,
				'VAHrs' => 1.5,
				'CM' => 68.85,
				'freight' => 14.00,
			),
		),
	),
	'lining' => array(
		'CI' => array(
			'Silk' => 20.00,
			'Fancy' => 3.00,
			'Stretch' => 3.50,
			'Basic' => 0.00,
		),
		'GI' => array(
			'ST 5700' => 0,
			'SS7000' => 0,

		),
	),
	'gi' => array(
		'discount' => array(
			2 => 7.5,
			3 => 10,
			4 => 12,
		),
	),

);

?>

    var pricingString = '<?php echo json_encode($pricing); ?>';
    var pricingObj = JSON.parse(pricingString);


    //]]>

    function setHiddenSortOrders() {
        var optionOrders = '';
        jQuery(".custom-option-objs input").addClass("validation-passed");
        jQuery("#edOrderForm section.custom-options div.container").each(function() {
            optionOrders = optionOrders + jQuery(this).attr("id") + ",";
            jQuery("#optionOrders").val(optionOrders);
        });
    }

	<?php
if ('preview' != $mageAction) {
	?>
    function preview() {
        //jQuery(".modal-dialog").css("width", jQuery( window ).width());
        jQuery('#myModal').modal('show').find('.modal-body').html('Saving information..');
        jQuery('#edOrderForm').hide();
        saveProgress();
    }
	<?php

}
?>

    <?php
			if ('preview' != $mageAction) {
				?>

    function allHiddenPassed() {
        totalItems = jQuery(".custom-options .container").length;
        if (totalItems < 1) {
            result = confirm('You do not have any items added. Please add atleast 1 item.');
            return false;
        }
        estimatedOrderTotal = jQuery("td.estimatedOrderTotal").html();
        if (isNaN(estimatedOrderTotal)) {
            result = confirm("You selection do not have pricing estimate. Please try changing your selection.");
            return false;
        }
        if (customForm.validator.validate()) {
            preview();
        } else {
			jQuery(".validation-failed").each(function() {
				eleName = jQuery(this).attr("name");
				console.log("Validation Failed: " + eleName);
			});	
		}
		jQuery(".validation-failed").each(function() {
			eleName = jQuery(this).attr("name");
			jQuery('[name="' + eleName + '"]').change(function() {
				eleName = jQuery(this).attr("name");
				jQuery('[name="' + eleName + '"]').each(function() {
					Validation.validate(this);
				});
			});
		});
			
        return false;

        result = confirm("Are you sure? Your order canâ€™t be modified once submitted.");
        if (result) {
            isSubmitButtonPress = true;
            setHiddenSortOrders();
        }

        return result;
    }

    <?php

		}
		?>


    function placeOrder() {
        result = confirm("Are you sure? Your order canâ€™t be modified once submitted.");
        if (result) {
            isSubmitButtonPress = true;
            setHiddenSortOrders();
            jQuery('#myModal .modal-body').html('Loading..');
            jQuery('#myModal').modal('hide');
            customForm.submit();
        }

    }


    function jacketStyleSelected(ele) {
        var selectedStyle = jQuery(ele).val();

		jQuery("input[type=radio][name^='jacketLengthLevel']").each(function() {
			jQuery(this).prop('disabled', false).addClass("validate-one-required-by-name");
		});
		
        jQuery(ele).closest('tr').find("select[name='jacketLapel[]'] > option").each(function() {
            jQuery(this).prop('disabled', false);
        });
        jQuery(ele).closest('tr').find("select[name='jacketOutSidePokets[]'] > option").each(function() {
            jQuery(this).prop('disabled', false);
        });
        jQuery(ele).closest('tr').find("select[name='jacketInsideCigarettePokets[]'] > option").each(function() {
            jQuery(this).prop('disabled', false);
        });

        jQuery(ele).closest('tr').find("select[name='jacketLapel[]']").prop("disabled", false).addClass('validate-select');
        jQuery(ele).closest('tr').find("select[name='jacketOutSidePokets[]']").prop("disabled", false).addClass('validate-select');
        jQuery(ele).closest('tr').find("select[name='jacketInsideCigarettePokets[]']").prop("disabled", false).addClass('validate-select');

        if ('EJ-06-S Faye' == selectedStyle || 'EJ-08-S Mari' == selectedStyle) {
            jQuery(ele).closest('tr').find("select[name='jacketLapel[]'] > option").each(function() {
                if ('EDC-4 Shirt Collar' != jQuery(this).val() && 'EDC-6 Jewel Neck' != jQuery(this).val()) {
                    if (jQuery(this).is(':selected')) {
                        jQuery(ele).closest('tr').find("select[name='jacketLapel[]']").val('--');
                    }
                    jQuery(this).prop('disabled', true);
                }
            });
        } else if ('EJ-07-C Lauren' == selectedStyle || 'EJ-10-S Demi' == selectedStyle) {
            //jQuery(ele).closest('tr').find("select[name='jacketLapel[]']").val('').prop("disabled", true).removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketLapel[]']").val('--').removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketLapel[]'] > option").each(function() {
                if ('--' != jQuery(this).val()) {
                    jQuery(this).prop('disabled', true);
                }
            });

        } else if ('EJ-11-C Tina' == selectedStyle || 'EJ-12-SB-C Ann' == selectedStyle || 'ELJ-01-DB-C Leather Moto' == selectedStyle || 'ELJ-02-SB-C Leather Zip-Up' == selectedStyle) {
            //jQuery(ele).closest('tr').find("select[name='jacketLapel[]']").val('').prop("disabled", true).removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketLapel[]']").val('--').removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketLapel[]'] > option").each(function() {
                if ('--' != jQuery(this).val()) {
                    jQuery(this).prop('disabled', true);
                }
            });
            //jQuery(ele).closest('tr').find("select[name='jacketOutSidePokets[]']").val('').prop("disabled", true).removeClass('validate-select').removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketOutSidePokets[]']").val('--').removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketOutSidePokets[]'] > option").each(function() {
                if ('--' != jQuery(this).val()) {
                    jQuery(this).prop('disabled', true);
                }
            });
            //jQuery(ele).closest('tr').find("select[name='jacketInsideCigarettePokets[]']").val('').prop("disabled", true).removeClass('validate-select').removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketInsideCigarettePokets[]']").val('--').removeClass('validate-select');
            jQuery(ele).closest('tr').find("select[name='jacketInsideCigarettePokets[]'] > option").each(function() {
                if ('--' != jQuery(this).val()) {
                    jQuery(this).prop('disabled', true);
                }
			});
			
			if ('ELJ-01-DB-C Leather Moto' == selectedStyle || 'ELJ-02-SB-C Leather Zip-Up' == selectedStyle) {
				jQuery("input[type=radio][name^='jacketLengthLevel']").each(function() {
					jQuery(this).prop('disabled', true).removeClass("validate-one-required-by-name");
				});
			}
        }
        var tr = jQuery(ele).closest('tr');

        calculateGroups();

    }


    function pantStyleSelected(ele) {
        var selectedStyle = jQuery(ele).val();

        jQuery(ele).closest('tr').find("select[name='pantsFrontPocket[]'] > option").each(function() {
            jQuery(this).prop('disabled', false);
        });

        jQuery(ele).closest('tr').find("select[name='pantsFrontPocket[]']").prop("disabled", false).addClass('validate-select');
        jQuery(ele).closest('tr').find("select[name='pantsHipPocket[]']").val('').prop("disabled", false).addClass('validate-select');
        jQuery(ele).closest('tr').find("select[name='pantsBeltLoop[]']").val('').prop("disabled", false).addClass('validate-select');
        jQuery(ele).closest('section').find("input[name='ptHellSlit[]']").val('').prop("disabled", false).addClass(''); //validate-one-required-by-name


        if ('EP-01-S Arliss' == selectedStyle || 'EP-02-S Chris' == selectedStyle || 'EP-05-S Joss' == selectedStyle || 'EP-06-S Seyma' == selectedStyle) {
            jQuery(ele).closest('section').find("input[name='ptHellSlit[]']").prop('checked', false).prop('disabled', true).removeClass('validate-one-required-by-name');
        }


        if ('EP-01-S Arliss' == selectedStyle || 'EP-03-S Katniss' == selectedStyle || 'EP-05-S Joss' == selectedStyle) {
            jQuery(ele).closest('tr').find("select[name='pantsFrontPocket[]'] > option").each(function() {
                if ('LTP-2 One-Eighth Side Pockets' == jQuery(this).val()) {
                    jQuery(this).prop('disabled', true);
                    if (jQuery(this).is(':selected')) {
                        jQuery(ele).closest('tr').find("select[name='pantsFrontPocket[]']").val('');
                    }

                }
            });
            jQuery(ele).closest('tr').find("select[name='pantsBeltLoop[]']").prop("disabled", true).removeClass('validate-select');
        }
        var tr = jQuery(ele).closest('tr');

        calculateGroups();
    }


    function dressStyleSelected(ele) {
		var selectedStyle = jQuery(ele).val();
		containerId = jQuery(ele).closest(".container").attr("id");
		tmp         = containerId.split("-");
		indexNum	= tmp[tmp.length - 1];

        jQuery(ele).closest('section').find("input[name='dressShape-" + indexNum + "']").prop('disabled', false).addClass('validate-one-required-by-name');

        jQuery(ele).closest('tr').find("select[name='dressNeckline[]']").prop("disabled", false);

        if ('ED-04-C Aslaug' == selectedStyle) {
            jQuery(ele).closest('tr').find("select[name='dressNeckline[]']").val('').prop('disabled', true).removeClass('validate-select');
        }
        if ('ED-03-S Margueritte' == selectedStyle || 'ED-04-C Aslaug' == selectedStyle) {
            jQuery(ele).closest('section').find("input[name='dressShape-" + indexNum + "']").prop('checked', false).prop('disabled', true).removeClass('validate-one-required-by-name');
        }

        calculateGroups();
    }


    function skirtStyleSelected(ele) {
		var selectedStyle = jQuery(ele).val();
		containerId = jQuery(ele).closest(".container").attr("id");
		tmp         = containerId.split("-");
		indexNum	= tmp[tmp.length - 1];
		
        jQuery(ele).closest('tr').find("select[name='skirtBackPockets[]']").prop("disabled", false);
        jQuery(ele).closest('section').find("input[name='skirtLevel-" + indexNum + "']").prop('disabled', false).addClass('validate-one-required-by-name');
        jQuery(ele).closest('section').find("input[name='skirtShape-" + indexNum + "']").prop('disabled', false).addClass('validate-one-required-by-name');

        if ('ES-07-S Preeti' == selectedStyle || 'ES-08-C Joy' == selectedStyle || 'ES-09-C Kayla' == selectedStyle || 'ES-10-C Jennifer' == selectedStyle || 'ES-11-C Tiffany' == selectedStyle) {
            jQuery(ele).closest('tr').find("select[name='skirtBackPockets[]']").val('').prop("disabled", true).removeClass("validate-select");
            jQuery(ele).closest('section').find("input[name='skirtShape-" + indexNum + "']").prop('checked', false).prop('disabled', true).removeClass('validate-one-required-by-name');
        }

        calculateGroups();

    }

    function toogleDepend (ele, dependChildName) {
        if (jQuery(ele).is(':checked')) {
            jQuery(ele).closes('section').find("input[name='"+ dependChildName +"']").prop('disabled', false);
        } else {
            jQuery(ele).closes('section').find("input[name='"+ dependChildName +"']").val('').prop('disabled', true);
        }
    }


    window.onbeforeunload = function (e) {
		if (!jQuery("#edOrderForm").data("changed")) {
			return null;
		}
        if (isSubmitButtonPress) {
            isSubmitButtonPress = false;
            return null;
        }
        return "Are you sure you want to exit the form without saving?";
    };


	<?php
if ('preview' != $mageAction) {
	?>
	function saveForLater() {
		jQuery('#myModal').modal('show').find('.modal-body').html('Saving draft..');
        jQuery('#edOrderForm').hide();
		saveProgress();
		jQuery("#edOrderForm").data("changed", false);
		return false;
	}

	var disabledElements;
	function reDisableElements() {
		jQuery(disabledElements).each(function () {
			jQuery(this).attr("disabled", "disabled");
		});
	}

    function saveProgress() {

		setHiddenSortOrders();
		browserId = jQuery("#edOrderForm input[name='browser_id']").val();
		if ('' == browserId) {
			browserId = generateRandomString(32);
			jQuery("#edOrderForm input[name='browser_id']").val(browserId);
		}
		disabledElements = jQuery("#edOrderForm").first().find("input:disabled");
		jQuery(disabledElements).each(function() {
			jQuery(this).removeAttr("disabled");
		});
		//alert (generateRandomString(32));
        jQuery.ajax({
            type: "POST",
            url: "<?php echo $helper->getProgressSaveUrl(); ?>",
			data: jQuery("#edOrderForm").first().serialize(), // serializes the form's elements.
			dataType: 'json',
            success: function(data) {
				reDisableElements();
                console.log(data);
				modalData = jQuery('#myModal').find('.modal-body').html();
				if (data.error) {
					alert ("Error: " + data.error);
					if (typeof(data.reload) != "undefined" && "yes" == data.reload) {
						location.reload();
					}
				} else if ('Saving draft..' == modalData) {
					jQuery('#myModal').modal('show').find('.modal-body').html('Draft Saved!');
					setTimeout(
						function () {
							jQuery('#edOrderForm').show();
							jQuery('#myModal').modal('hide');
						}, 1000);

				}
                
                if ('Saving information..' == modalData) {
                    jQuery('#myModal').modal('show').find('.modal-body').html('Loading Order Review..');
                    jQuery('#myModal').modal('show').find('.modal-body').load('<?php echo $helper->getModuleBaseUrl(); ?>index/preview');
                } 
			},
			complete: function(data) {
				reDisableElements();
			},
        });
    }
	<?php

} else if ($isAdminArea) {
	?>
            function saveProgress() {}
	    <?php

			}
			?>

    function clearForm() {
        result = confirm("Are you sure? All the progress so far on the form will be lost.");
        if (result) {
            jQuery("#edOrderForm")[0].reset();
            isSubmitButtonPress = true;
            jQuery.ajax({
                type: "POST",
                url: "<?php echo $helper->getProgressSaveUrl(); ?>",
                data: {},
                success: function(data) {
                    console.log(data);
                    location.reload();
                }
            });
        }
	}

	
	function setFormChanged() {
		jQuery("#edOrderForm").data("changed", true);
	}


    jQuery( document ).ready(function() {
		jQuery("#edOrderForm :input").change(function() {
			setFormChanged();
		});
		jQuery('#myModal').on('hidden.bs.modal', function () {
			jQuery('#myModal .modal-body').html('Loading..');
			jQuery('#edOrderForm').show();
		});
		
        window.setInterval(function(){
            //saveProgress();
        }, 20000); // every 20 sec


        taxTitle   = pricingObj.tax.title;
        taxPercent = pricingObj.tax.percent;
        <?php
							if ('preview' != $mageAction) { ?>
        jQuery(".taxPercentToApply").html(taxPercent + '%');
        jQuery(".taxTitle").html(taxTitle);
        <?php 
						} ?>

        <?php
							if ('preview' != $mageAction) {
								?>
				jQuery('[data-type="datepicker"]').datepicker({ maxDate: new Date});
				jQuery('[data-toggle="tooltip"]').tooltip();
				jQuery("section.custom-options").on('click','.close', function (btn) {
					if (confirm("Are you sure you want to close this section before saving?")) {
						setFormChanged();
						var removalId = jQuery(this).attr('data-id');
						jQuery('#' + removalId).remove();
						calculatePieces();
					}
				});

				jQuery('form[mageaction="index"] .custom-option-buttons .btn').on('click', function (btn) {
					var component_name = jQuery(this).data('bind');
					weightType = jQuery("input[name='weight_type']").val();
					clientWeight = jQuery("input[name='clientWeight']").val();
					if ('lbs' == weightType) {
						lbsToKg         = 0.453592;
						clientWeight    = clientWeight * lbsToKg;
					}
					if (isNaN(clientWeight) || '' == clientWeight) {
						alert ("Invalid Client Weight");
						jQuery("input[name='clientWeight']").focus();
					} else {
						setFormChanged();
						cloneSection(component_name);
					}
				});
                <?php

														} else {
															?>
				jQuery("form[mageaction='preview'] :input").prop("disabled", true);
				jQuery("form[mageaction='preview'] select").prop("disabled", true);
				jQuery("form[mageaction='preview'] input[type='button']").prop("disabled", false);
				<?php

		}
		?>

    });




</script>



<?php
$p = $formData->getData();
if (count($p['jacketMatched']) > 1 || true) {
	?>
    <script>
		// start prefill
		<?php
	$orderOptions = explode(",", $p['optionOrders']);
	foreach ($orderOptions as $orderOption) {
		if (empty($orderOption)) {
			continue;
		}
		$tmp = explode("-", $orderOption);
		array_pop($tmp);
		if ('index' == $tmp[0] || 'preview' == $tmp[0]) {
			array_shift($tmp);
		}
		$orderOption = implode("-", $tmp);
		?>
            //cloneSection('jacket-options');
            cloneSection('<?php echo $orderOption; ?>', '<?php echo $mageAction; ?>');
			<?php

		if (stristr($orderOption, "jacket")) {
			foreach ($p['jacketMatched'] as $index => $junk) {
                //echo $index;
                //print_r($p['jacketExtrasR']);
				?>
			

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLengthLevel-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['jacketLengthLevel'][$index]); ?>']").prop("checked", true).change();
				//jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLengthLevel[]']").val("<?php echo addslashes($p['jacketLengthLevel'][$index]); ?>");
				jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLengthLevelBelowNavel[]']").val('<?php echo $p['jacketLengthLevelBelowNavel'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketExplain[]']").val('<?php echo $p['jacketExplain'][$index]; ?>').change();
				
				jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketPreference-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['jacketPreference'][$index]); ?>']").prop("checked", true).change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketPreference[]']").val("<?php echo addslashes($p['jacketPreference'][$index]); ?>");
				jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLine-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['jacketLine'][$index]); ?>']").prop("checked", true).attr("checked", "checked").change();
				//jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLine[]']").val("<?php echo addslashes($p['jacketLine'][$index]); ?>");
				//alert ("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> " + jQuery(".jacket-options-<?php echo ($index + 1); ?> input[name='jacketLine[]'][value='<?php echo addslashes($p['jacketLine'][$index]); ?>']").length);

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketStyle[]']").val('<?php echo $p['jacketStyle'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketLapel[]']").val('<?php echo $p['jacketLapel'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketOutSidePokets[]']").val('<?php echo $p['jacketOutSidePokets'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketInsideCigarettePokets[]']").val('<?php echo $p['jacketInsideCigarettePokets'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketButtons[]']").val('<?php echo $p['jacketButtons'][$index]; ?>').change();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketFabricCode[]']").val('<?php echo $p['jacketFabricCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketFabricId[]']").val('<?php echo $p['jacketFabricId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketDescription[]']").val('<?php echo $p['jacketDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketStretchFabric[]']").prop('checked', <?php echo ($p['jacketStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketAlternateCode[]']").val('<?php echo $p['jacketAlternateCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketAlternateId[]']").val('<?php echo $p['jacketAlternateId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketAlternateDescription[]']").val('<?php echo $p['jacketAlternateDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketAlternateStretchFabric[]']").prop('checked', <?php echo ($p['jacketAlternateStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketLiningCode[]']").val('<?php echo $p['jacketLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLiningId[]']").val('<?php echo $p['jacketLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLiningDescription[]']").val('<?php echo $p['jacketLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketLiningStretchBox[]']").prop('checked', <?php echo ($p['jacketLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> select[name='jacketAltLiningCode[]']").val('<?php echo $p['jacketAltLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketAltLiningId[]']").val('<?php echo $p['jacketAltLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketAltLiningDescription[]']").val('<?php echo $p['jacketAltLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketAltLiningStretchBox[]']").prop('checked', <?php echo ($p['jacketAltLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketSpecialSf[]']").prop('checked', <?php echo ($p['jacketSpecialSf'][$index]) ? "true" : "false"; ?>).change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketSpecialTe[]']").prop('checked', <?php echo ($p['jacketSpecialTe'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketExtrax[]']").val('<?php echo $p['jacketExtrax'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketExtrasW[]']").val('<?php echo $p['jacketExtrasW'][$index]; ?>').blur();
                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> input[name='jacketExtrasR[]']").val('<?php echo $p['jacketExtrasR'][$index]; ?>').blur();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> textarea[name='jacketDesignDetails[]']").val('<?php echo str_replace(chr(10), '', str_replace(chr(13), '\n', $p['jacketDesignDetails'][$index])); ?>').change();

                jQuery("#<?php echo $mageAction; ?>-jacket-options-<?php echo ($index + 1); ?> span[name='sectionPrice[]']").html('<?php echo $p['sectionPrice'][$index]; ?>');


                <?php

														}
													} else if (stristr($orderOption, "pant")) {
														foreach ($p['pantsMatched'] as $index => $junk) {
															?>
				jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsLevel-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['pantsLevel'][$index]); ?>']").prop("checked", true).change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsLevelBelowNavelVal[]']").val('<?php echo $p['pantsLevelBelowNavelVal'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsLevelAboveNavelVal[]']").val('<?php echo $p['pantsLevelAboveNavelVal'][$index]; ?>').change();
                

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsShapeExplain[]']").val('<?php echo $p['pantsShapeExplain'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsShape-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['pantsShape'][$index]); ?>']").prop("checked", true).change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='ptPantsLengthExplain[]']").val('<?php echo $p['ptPantsLengthExplain'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='ptPantsLength-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['ptPantsLength'][$index]); ?>']").prop("checked", true).change();


                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='ptHeelHeight[]']").val('<?php echo $p['ptHeelHeight'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='ptPantsStride[]']").val('<?php echo $p['ptPantsStride'][$index]; ?>').change();
                <?php
															foreach ($p['ptHellSlit'][$index] as $j => $dt) {
																?>
                    jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='ptHellSlit[]'][value='<?php echo addslashes($dt); ?>']").prop("checked", true).change();
                    <?php

																		}
																		?>


                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsPreference-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['pantsPreference'][$index]); ?>']").prop("checked", true).change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantLineExplain[]']").val('<?php echo $p['pantLineExplain'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantLine-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['pantLine'][$index]); ?>']").prop("checked", true).change();



                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsStyle[]']").val('<?php echo $p['pantsStyle'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsFrontPocket[]']").val('<?php echo $p['pantsFrontPocket'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsHipPocket[]']").val('<?php echo $p['pantsHipPocket'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsBeltLoop[]']").val('<?php echo $p['pantsBeltLoop'][$index]; ?>').change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsFabricCode[]']").val('<?php echo $p['pantsFabricCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsFabricId[]']").val('<?php echo $p['pantsFabricId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsDescription[]']").val('<?php echo $p['pantsDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsStretchFabric[]']").prop('checked', <?php echo ($p['pantsStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsAlternateCode[]']").val('<?php echo strtolower($p['pantsAlternateCode'][$index]); ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsAlternateId[]']").val('<?php echo $p['pantsAlternateId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsAlternateDescription[]']").val('<?php echo $p['pantsAlternateDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsAlternateStretchFabric[]']").prop('checked', <?php echo ($p['pantsAlternateStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsLiningCode[]']").val('<?php echo $p['pantsLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsLiningId[]']").val('<?php echo $p['pantsLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsLiningDescription[]']").val('<?php echo $p['pantsLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsLiningStretchBox[]']").prop('checked', <?php echo ($p['pantsLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> select[name='pantsAltLiningCode[]']").val('<?php echo $p['pantsAltLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsAltLiningId[]']").val('<?php echo $p['pantsAltLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsAltLiningDescription[]']").val('<?php echo $p['pantsAltLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsAltLiningStretchBox[]']").prop('checked', <?php echo ($p['pantsAltLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsSpecialSf[]']").prop('checked', <?php echo ($p['pantsSpecialSf'][$index]) ? "true" : "false"; ?>).change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsSpecialTe[]']").prop('checked', <?php echo ($p['pantsSpecialTe'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsExtrax[]']").val('<?php echo $p['pantsExtrax'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsExtrasW[]']").val('<?php echo $p['pantsExtrasW'][$index]; ?>').blur();
                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> input[name='pantsExtrasR[]']").val('<?php echo $p['pantsExtrasR'][$index]; ?>').blur();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> textarea[name='pantsDesignDetails[]']").val('<?php echo str_replace(chr(10), '', str_replace(chr(13), '\n', $p['pantsDesignDetails'][$index])); ?>').change();

                jQuery("#<?php echo $mageAction; ?>-pants-options-<?php echo ($index + 1); ?> span[name='sectionPrice[]']").html('<?php echo $p['sectionPrice'][$index]; ?>');


                <?php

														}
													} else if (stristr($orderOption, "skirt")) {
														foreach ($p['skirtMatched'] as $index => $junk) {
															?>
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLevelBelowKneeVal[]']").val('<?php echo $p['skirtLevelBelowKneeVal'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLevelAboveKneeVal[]']").val('<?php echo $p['skirtLevelAboveKneeVal'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLevelOtherExplain[]']").val('<?php echo $p['skirtLevelOtherExplain'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLevel-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['skirtLevel'][$index]); ?>']").prop("checked", true).change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtShapeExplain[]']").val('<?php echo $p['skirtShapeExplain'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtShape-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['skirtShape'][$index]); ?>']").prop("checked", true).change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='ptPantsLengthExplain[]']").val('<?php echo $p['ptPantsLengthExplain'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='ptPantsLength[]'][value='<?php echo addslashes($p['ptPantsLength'][$index]); ?>']").prop("checked", true).change();

				jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtPreference-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['skirtPreference'][$index]); ?>']").prop("checked", true).change();
				jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLine-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['skirtLine'][$index]); ?>']").prop("checked", true).change();



                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> select[name='skirtStyle[]']").val('<?php echo $p['skirtStyle'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> select[name='skirtFrontPockets[]']").val('<?php echo $p['skirtFrontPockets'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> select[name='skirtBackPockets[]']").val('<?php echo $p['skirtBackPockets'][$index]; ?>').change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> select[name='skirtFabricCode[]']").val('<?php echo $p['skirtFabricCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtFabricId[]']").val('<?php echo $p['skirtFabricId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtDescription[]']").val('<?php echo $p['skirtDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtStretchFabric[]']").prop('checked', <?php echo ($p['skirtStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> select[name='skirtAlternateCode[]']").val('<?php echo strtolower($p['skirtAlternateCode'][$index]); ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtAlternateId[]']").val('<?php echo $p['skirtAlternateId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtAlternateDescription[]']").val('<?php echo $p['skirtAlternateDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtAlternateStretchFabric[]']").prop('checked', <?php echo ($p['skirtAlternateStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> select[name='skirtLiningCode[]']").val('<?php echo $p['skirtLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLiningId[]']").val('<?php echo $p['skirtLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLiningDescription[]']").val('<?php echo $p['skirtLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtLiningStretchBox[]']").prop('checked', <?php echo ($p['skirtLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> select[name='skirtAltLiningCode[]']").val('<?php echo $p['skirtAltLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtAltLiningId[]']").val('<?php echo $p['skirtAltLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtAltLiningDescription[]']").val('<?php echo $p['skirtAltLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtAltLiningStretchBox[]']").prop('checked', <?php echo ($p['skirtAltLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtSpecialSf[]']").prop('checked', <?php echo ($p['skirtSpecialSf'][$index]) ? "true" : "false"; ?>).change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtSpecialTe[]']").prop('checked', <?php echo ($p['skirtSpecialTe'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtExtrax[]']").val('<?php echo $p['skirtExtrax'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtExtrasW[]']").val('<?php echo $p['skirtExtrasW'][$index]; ?>').blur();
                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> input[name='skirtExtrasR[]']").val('<?php echo $p['skirtExtrasR'][$index]; ?>').blur();

				jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> textarea[name='skirtDesignDetails[]']").val("<?php echo str_replace(chr(10), '', str_replace(chr(13), '\n', $p['skirtDesignDetails'][$index])); ?>").change();

                jQuery("#<?php echo $mageAction; ?>-skirt-options-<?php echo ($index + 1); ?> span[name='sectionPrice[]']").html('<?php echo $p['sectionPrice'][$index]; ?>');
                <?php

														}
													} else if (stristr($orderOption, "dress")) {
														foreach ($p['dressMatched'] as $index => $junk) {
															?>
				jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLength-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['dressLength'][$index]); ?>']").prop("checked", true).change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLengthBelowKneeVal[]']").val('<?php echo $p['dressLengthBelowKneeVal'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLengthAboveKneeVal[]']").val('<?php echo $p['dressLengthAboveKneeVal'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLengthOtherExplain[]']").val('<?php echo $p['dressLengthOtherExplain'][$index]; ?>').change();
                

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressShapeExplain[]']").val('<?php echo $p['dressShapeExplain'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressShape-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['dressShape'][$index]); ?>']").prop("checked", true).change();

				jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressPreference-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['dressPreference'][$index]); ?>']").prop("checked", true).change();
				jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLine-<?php echo ($index + 1); ?>'][value='<?php echo addslashes($p['dressLine'][$index]); ?>']").prop("checked", true).change();



                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressStyle[]']").val('<?php echo $p['dressStyle'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressSleeves[]']").val('<?php echo $p['dressSleeves'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressNeckline[]']").val('<?php echo $p['dressNeckline'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressPocket[]']").val('<?php echo $p['dressPocket'][$index]; ?>').change();


                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressFabricCode[]']").val('<?php echo $p['dressFabricCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressFabricId[]']").val('<?php echo $p['dressFabricId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressDescription[]']").val('<?php echo $p['dressDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressStretchFabric[]']").prop('checked', <?php echo ($p['dressStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressAlternateCode[]']").val('<?php echo strtolower($p['dressAlternateCode'][$index]); ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressAlternateId[]']").val('<?php echo $p['dressAlternateId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressAlternateDescription[]']").val('<?php echo $p['dressAlternateDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressAlternateStretchFabric[]']").prop('checked', <?php echo ($p['dressAlternateStretchFabric'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressLiningCode[]']").val('<?php echo $p['dressLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLiningId[]']").val('<?php echo $p['dressLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLiningDescription[]']").val('<?php echo $p['dressLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressLiningStretchBox[]']").prop('checked', <?php echo ($p['dressLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> select[name='dressAltLiningCode[]']").val('<?php echo $p['dressAltLiningCode'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressAltLiningId[]']").val('<?php echo $p['dressAltLiningId'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressAltLiningDescription[]']").val('<?php echo $p['dressAltLiningDescription'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressAltLiningStretchBox[]']").prop('checked', <?php echo ($p['dressAltLiningStretchBox'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressSpecialSf[]']").prop('checked', <?php echo ($p['dressSpecialSf'][$index]) ? "true" : "false"; ?>).change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressSpecialTe[]']").prop('checked', <?php echo ($p['dressSpecialTe'][$index]) ? "true" : "false"; ?>).change();

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressExtrax[]']").val('<?php echo $p['dressExtrax'][$index]; ?>').change();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressExtrasW[]']").val('<?php echo $p['dressExtrasW'][$index]; ?>').blur();
                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> input[name='dressExtrasR[]']").val('<?php echo $p['dressExtrasR'][$index]; ?>').blur();

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> textarea[name='dressDesignDetails[]']").val('<?php echo str_replace(chr(10), '', str_replace(chr(13), '\n', $p['dressDesignDetails'][$index])); ?>').change();

                jQuery("#<?php echo $mageAction; ?>-dress-options-<?php echo ($index + 1); ?> span[name='sectionPrice[]']").html('<?php echo $p['sectionPrice'][$index]; ?>');
                <?php

														}
													}
            /*
            foreach ($p['jacketMatched'] as $index => $junk) {
                if (count($p['jacketMatched']) == ($index + 1)) {
                    break;
                }
            ?>
													 */

												}


												if (!empty($p['shippingType'])) {
													?>
                jQuery("select[name='shippingType']").val("<?php echo $p['shippingType']; ?>");
            <?php

										}

										if ('preview' != $mageAction) {
											if (!empty($p['shippingCountry'])) {
												?>
                jQuery("select[name='shippingCountry']").val("<?php echo $p['shippingCountry']; ?>");
                <?php

														}



														if (!empty($p['shippingRegionId'])) {
															$region = Mage::getModel('directory/region')->load($p['shippingRegionId']);
															$regionName = $region->getName();
															?>
                setTimeout(function () {
					jQuery("input[name='shippingState']").val("<?php echo $regionName; ?>");
					jQuery("select[name='shippingRegionId']").val("<?php echo $p['shippingRegionId']; ?>");
				}, 2000);
				

            <?php

										}
									} else { // preview
										?>
			jQuery("td.estimatedOrderTotal").html("<?php echo $p['estimatedOrderTotal']; ?>");
			jQuery("input[name='estimatedOrderTotal']").val("<?php echo $p['estimatedOrderTotal']; ?>");
			<?php

	}






	?>


    </script>
	<?php



Mage::getSingleton('core/session')->unsEdformOrderPost();
}



function getTaxjar($address)
{
	$country = $address['country_id'];
	$region_id = $address['region_id'];
	$state = $address['state'];
	$zip = $address['zip'];
	$city = $address['city'];
	$taxCategory = 20010; // clothing
	if (is_numeric($region_id)) {
		$state = Mage::getModel('directory/region')->load($region_id)->getName();
	}
	$token = '03c238b1fd5d7e9cc5c34aa49f23c3a9';
	$params = array('city' => $city, 'state' => $state, 'country' => $country);
	$gParams = '';
	foreach ($params as $k => $v) {
		$gParams .= $k . '=' . $v . '&';
	}
	$gParams = trim($gParams, '&');
	$gParams = http_build_query($params);
	$url = "https://api.taxjar.com/v2/rates/" . $zip . "?" . $gParams;
	$ch = curl_init();
	curl_setopt($ch, CURLOPT_URL, $url);
	curl_setopt($ch, CURLOPT_POST, false);
	//curl_setopt($ch, CURLOPT_POSTFIELDS, $params);
	curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

	$headers = array(
		'Authorization: Bearer ' . $token
	);
	curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);

	$server_output = curl_exec($ch);

	curl_close($ch);

	return $server_output;
}
?>